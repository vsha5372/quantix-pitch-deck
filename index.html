<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantix | The No-Code AI Trading Platform</title>

    <!-- External Libraries: Tailwind CSS for styling, Chart.js for data visualization -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>

    <!-- Google Fonts for typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Custom CSS for styling overrides and component design -->
    <style>
        :root {
            --bg-light: #F5F5F4; /* stone-50 */
            --bg-card: #FFFFFF;
            --bg-card-alt: #FAFAF9; /* stone-100 */
            --border-color: #E7E5E4; /* stone-200 */
            --text-primary: #1C1917; /* stone-900 */
            --text-secondary: #78716C; /* stone-500 */
            --accent-primary: #0D9488; /* teal-600 */
            --accent-primary-hover: #0F766E; /* teal-700 */
            --accent-secondary: #F59E0B; /* amber-500 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-light);
            color: var(--text-primary);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 40vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .nav-link.active {
            background-color: var(--accent-primary);
            color: white;
            font-weight: 600;
        }
        .tab-btn.active {
            background-color: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            top: 1.25rem;
            left: -0.5rem;
            width: 1rem;
            height: 1rem;
            background-color: var(--bg-light);
            border: 3px solid var(--accent-primary);
            border-radius: 9999px;
            z-index: 10;
        }
        .summary-table .section-header { font-weight: 700; background-color: rgba(13, 148, 136, 0.1); }
        .summary-table .sub-item { padding-left: 2.5rem !important; color: var(--text-secondary); }
        .summary-table .total-row { background-color: #FAFAF9; font-weight: 700 !important; }
        .summary-table .total-row-final td { background-color: var(--bg-card-alt) !important; font-weight: 800 !important; font-size: 1.1rem !important;}
        .summary-table .loss { color: #DC2626; }
        .summary-table .profit { color: #16A34A; }

        /* Responsive Table Styles */
        @media (max-width: 768px) {
            .responsive-table thead {
                display: none;
            }
            .responsive-table tr {
                display: block;
                margin-bottom: 1rem;
                border: 1px solid var(--border-color);
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            }
            .responsive-table td {
                display: block;
                text-align: right;
                padding-left: 50%;
                position: relative;
                border-bottom: 1px solid var(--border-color);
            }
            .responsive-table tr:last-child td:last-child {
                border-bottom: none;
            }
            .responsive-table td::before {
                content: attr(data-label);
                position: absolute;
                left: 0.75rem;
                width: 45%;
                padding-right: 0.75rem;
                white-space: nowrap;
                text-align: left;
                font-weight: bold;
                color: var(--text-primary);
            }
        }
        /* Why Quantix Tabs */
        .why-quantix-tab.active {
            background-color: var(--accent-primary);
            color: white;
        }
        .roadmap-style-btn.active {
            background-color: var(--accent-primary);
            color: white;
        }
        /* Functionalities Thumbnails */
        .thumbnail-item img {
            background-color: #FAFAF9; /* stone-100 */
        }
        .thumbnail-item {
            border: 2px solid transparent;
        }
        .thumbnail-item.active {
            border-color: var(--accent-primary);
        }
        /* Summary & Settings Modals */
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.5);
        }
        .hidden-by-summary, .hidden-by-focus {
            display: none !important;
        }
        /* Top Menu Layout */
        .top-menu-layout #side-menu {
            display: none;
        }
        .top-menu-layout #top-menu {
            display: flex;
        }
        .top-menu-layout #main-content {
            height: calc(100vh - 4rem); /* Adjust based on top menu height */
        }
    </style>
</head>
<body class="antialiased">
    <div id="app-container" class="flex">
        <!--
          Sidebar Navigation: Provides easy access to all sections of the report.
        -->
        <aside id="side-menu" class="sticky top-0 h-screen w-64 bg-white border-r border-stone-200 p-6 flex-shrink-0 hidden md:flex flex-col overflow-y-auto">
            <div class="flex items-center space-x-3 mb-8">
                <div class="w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center text-white font-bold text-xl">Q</div>
                <h1 class="text-2xl font-bold text-stone-800">Quantix</h1>
            </div>
            <nav id="main-nav" class="flex flex-col space-y-2 flex-grow">
                <a href="#summary" class="nav-link p-3 rounded-lg transition text-sm">Summary</a>
                <a href="#problem" class="nav-link p-3 rounded-lg transition text-sm">The Problem</a>
                <a href="#solution" class="nav-link p-3 rounded-lg transition text-sm">Our Solution</a>
                <a href="#strategy" class="nav-link p-3 rounded-lg transition text-sm">Strategy</a>
                <a href="#roadmap" class="nav-link p-3 rounded-lg transition text-sm">Roadmap Summary</a>
                <a href="#roadmap-diagram" class="nav-link p-3 rounded-lg transition text-sm">Roadmap Diagram</a>
                <a href="#key-functionalities" class="nav-link p-3 rounded-lg transition text-sm">Functionalities</a>
                <a href="#market-size" class="nav-link p-3 rounded-lg transition text-sm">Market Size</a>
                <a href="#financials" class="nav-link p-3 rounded-lg transition text-sm">Financials</a>
                <a href="#team-budget" class="nav-link p-3 rounded-lg transition text-sm">Budget</a>
                <a href="#use-of-funds" class="nav-link p-3 rounded-lg transition text-sm">Use of Funds</a>
                <a href="#team" class="nav-link p-3 rounded-lg transition text-sm">Team</a>
                <a href="#competition" class="nav-link p-3 rounded-lg transition text-sm">Competition</a>
                <a href="#why-quantix" class="nav-link p-3 rounded-lg transition text-sm">Why Quantix</a>
            </nav>
            <div class="mt-auto pt-4 border-t border-stone-200 space-y-2">
                 <div id="external-links-container" class="space-y-2">
                    <a id="bots-link" href="https://bot-comparison.quantix.finance/" target="_blank" class="block w-full text-sm font-semibold py-2 px-4 rounded-lg bg-blue-50 text-blue-700 hover:bg-blue-100 transition text-center">Quantix Bots</a>
                    <a id="financing-link" href="https://vsha5372.github.io/Quantix-Financing/" target="_blank" class="block w-full text-sm font-semibold py-2 px-4 rounded-lg bg-green-50 text-green-700 hover:bg-green-100 transition text-center">Quantix Financing</a>
                </div>
                <div class="flex flex-col space-y-2">
                    <button id="full-view-btn" class="w-full text-sm font-semibold py-2 px-4 rounded-lg bg-stone-100 text-stone-700 hover:bg-stone-200 transition">Full Presentation</button>
                </div>
            </div>
        </aside>

        <div class="flex-1 flex flex-col relative">
             <!-- Top Menu (hidden by default) -->
            <header id="top-menu" class="hidden bg-white border-b border-stone-200 p-2 h-16 flex-shrink-0 items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center text-white font-bold text-xl">Q</div>
                    <h1 class="text-2xl font-bold text-stone-800">Quantix</h1>
                </div>
                <nav id="top-main-nav" class="flex items-center space-x-1 overflow-x-auto">
                     <!-- Top nav links will be cloned here -->
                </nav>
                 <!-- REMOVED: The container for external links in the top menu is no longer needed. -->
            </header>

            <!-- Floating Settings Button -->
            <div id="floating-controls-container" class="fixed top-4 right-4 z-40">
                 <button id="settings-btn" class="p-2 rounded-full bg-white shadow-lg hover:bg-stone-100 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-stone-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                </button>
            </div>

            <div id="main-content" class="flex-1 overflow-y-auto h-screen scroll-smooth">
                <main class="p-4 md:p-8">
                    <!-- Section: Executive Summary -->
                    <section id="summary" class="summary-toggleable mb-16 scroll-mt-24 min-h-[70vh] flex flex-col justify-center" data-id="summary" data-title="Summary">
                        <div class="text-center mb-10">
                            <h2 class="text-4xl font-bold tracking-tight">The first no-code platform that lets anyone build institutional-grade AI trading strategies.</h2>
                            <p class="mt-4 text-lg text-stone-600 max-w-3xl mx-auto">Quantix is the <span class="font-bold text-teal-600">ChatGPT of AI trading</span> — making institutional-grade strategy creation accessible to everyone in minutes, not months.</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center max-w-6xl mx-auto">
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h3 class="text-base font-semibold text-stone-500">Seed Ask</h3>
                                <p class="text-4xl font-bold text-teal-600 mt-2">$5M</p>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h3 class="text-base font-semibold text-stone-500">Projected Y5 Revenue</h3>
                                <p id="kpi-y5-revenue" class="text-4xl font-bold text-teal-600 mt-2">$55.7M</p>
                            </div>
                             <div class="bg-white p-6 rounded-lg shadow-md">
                                <h3 class="text-base font-semibold text-stone-500">Market Opportunity</h3>
                                <p class="text-4xl font-bold text-teal-600 mt-2">$69B</p>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h3 class="text-base font-semibold text-stone-500">Target Market</h3>
                                <p class="text-4xl font-bold text-teal-600 mt-2">Crypto & Forex</p>
                            </div>
                        </div>
                    </section>

                    <!-- Section: The Problem -->
                    <section id="problem" class="summary-toggleable mb-16 scroll-mt-24 min-h-[50vh] flex items-center" data-id="problem" data-title="The Problem">
                         <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-4xl mx-auto">
                            <h2 class="text-3xl font-bold text-center mb-4">We put Wall Street power in Main Street hands</h2>
                            <p class="text-lg text-stone-600 text-center mb-8 max-w-3xl mx-auto">An estimated 95% of retail traders fail. They're at a massive disadvantage because they can't access, build, or afford the sophisticated trading tools that institutions use to dominate the markets.</p>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                                <div class="bg-stone-100 p-4 rounded-lg">
                                    <h3 class="font-semibold text-lg mb-2">The Coding Barrier</h3>
                                    <p class="text-sm text-stone-600">Building a trading bot requires deep programming and quantitative skills, shutting out most people.</p>
                                </div>
                                <div class="bg-stone-100 p-4 rounded-lg">
                                    <h3 class="font-semibold text-lg mb-2">Prohibitive Costs</h3>
                                    <p class="text-sm text-stone-600">Institutional platforms cost tens of thousands per year, while retail "bots" are often ineffective scripts.</p>
                                </div>
                                 <div class="bg-stone-100 p-4 rounded-lg">
                                    <h3 class="font-semibold text-lg mb-2">Lack of True AI</h3>
                                    <p class="text-sm text-stone-600">Most available tools are simple automation, not machine learning (ML) AI that can learn, adapt, and create novel strategies.</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Section: The Solution -->
                    <section id="solution" class="summary-toggleable mb-16 scroll-mt-24 min-h-[50vh]" data-id="solution" data-title="Our Solution">
                        <h2 class="text-3xl font-bold text-center mb-8">Our Solution: Quantix IQ</h2>
                        <p class="text-center text-lg text-stone-600 max-w-3xl mx-auto mb-10">We solve this problem by giving retail traders the power of institutional AI, without the complexity or cost.</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                            <div class="bg-white p-6 rounded-lg shadow-md text-center border-t-4 border-teal-500">
                                <h3 class="font-semibold text-lg mb-2">No Coding Required</h3>
                                <p class="text-sm text-stone-600">Build sophisticated strategies with our intuitive, visual, no-code platform.</p>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow-md text-center border-t-4 border-teal-500">
                                <h3 class="font-semibold text-lg mb-2">Institutional-Grade AI</h3>
                                <p class="text-sm text-stone-600">Leverage our proprietary AI for strategy creation, backtesting, and optimization.</p>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow-md text-center border-t-4 border-teal-500">
                                <h3 class="font-semibold text-lg mb-2">Affordable Pricing</h3>
                                <p class="text-sm text-stone-600">Our freemium model makes powerful tools accessible to everyone.</p>
                            </div>
                             <div class="bg-white p-6 rounded-lg shadow-md text-center border-t-4 border-teal-500">
                                <h3 class="font-semibold text-lg mb-2">Proven Strategies</h3>
                                <p class="text-sm text-stone-600">Access a marketplace of pre-built, high-performance bots.</p>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-md p-6">
                            <div class="flex justify-center border-b border-stone-200 mb-6">
                                <button class="tab-btn active flex-1 md:flex-none text-sm md:text-base font-semibold py-3 px-6 rounded-t-lg transition border-b-2" data-tab="marketplace">Marketplace</button>
                                <button class="tab-btn flex-1 md:flex-none text-sm md:text-base font-semibold py-3 px-6 rounded-t-lg transition text-stone-600 border-b-2 border-transparent" data-tab="iq">IQ</button>
                                <button class="tab-btn flex-1 md:flex-none text-sm md:text-base font-semibold py-3 px-6 rounded-t-lg transition text-stone-600 border-b-2 border-transparent" data-tab="pro">Pro</button>
                            </div>
                            <div id="tab-content">
                                <!-- Content will be injected by JS -->
                            </div>
                        </div>
                    </section>

                    <!-- Section: Go-To-Market Strategy -->
                    <section id="strategy" class="summary-toggleable mb-16 scroll-mt-24 min-h-[50vh]" data-id="strategy" data-title="Go-To-Market Strategy">
                        <h2 class="text-3xl font-bold text-center mb-8">Go-To-Market Strategy</h2>
                        <div class="relative pl-4 border-l-2 border-teal-500">
                            <!-- Phase 1 -->
                            <div class="mb-10 pl-8 relative timeline-item">
                                <h3 class="text-xl font-bold">Phase 1: Cryptocurrency Market Entry</h3>
                                <p class="text-sm text-stone-500 font-semibold mb-4">Year 1 - Mid Year 2</p>
                                <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200">
                                    <ul class="list-disc list-inside space-y-2 text-stone-600">
                                        <li><strong>Q3 Launch:</strong> Launch Quantix Marketplace for crypto on top-tier exchanges (Binance, Bybit, OKX).</li>
                                        <li><strong>Q4 Launch:</strong> Release Quantix IQ (Freemium) to build a user base and community.</li>
                                        <li><strong>Post-Launch:</strong> Initiate an affiliate and influencer-led marketing campaign on social media to build prosumer awareness.</li>
                                        <li><strong>Q4 2025:</strong> Soft launch of direct sales to Quantix Pro for family offices and institutions.</li>
                                    </ul>
                                </div>
                            </div>
                            <!-- Phase 2 -->
                            <div class="pl-8 relative timeline-item">
                                <h3 class="text-xl font-bold">Phase 2: Forex Market Expansion</h3>
                                <p class="text-sm text-stone-500 font-semibold mb-4">Late Year 2 - Onward</p>
                                <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200">
                                     <ul class="list-disc list-inside space-y-2 text-stone-600">
                                        <li><strong>Q1 2026:</strong> Develop and test MT4/MT5 integration for Forex market entry.</li>
                                        <li><strong>Q2 2026:</strong> Roll out Marketplace and IQ products to the top 20 Forex brokers.</li>
                                        <li><strong>Q3 2026:</strong> Introduce a retail version of Quantix Pro as a high-tier SaaS offering.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Section: Roadmap -->
                    <section id="roadmap" class="summary-toggleable mb-16 scroll-mt-24 min-h-[50vh]" data-id="roadmap" data-title="Roadmap Summary">
                        <h2 class="text-3xl font-bold text-center mb-12">Quantix Roadmap Summary</h2>
                        <div class="relative max-w-4xl mx-auto">
                            <div class="hidden md:block border-l-2 border-teal-300 absolute h-full top-0 left-1/2 -ml-px"></div>
                            <div class="space-y-12 md:space-y-0">
                                <!-- Item 1 -->
                                <div class="md:grid md:grid-cols-2 md:gap-8 items-center">
                                    <div class="flex justify-center md:justify-end mb-4 md:mb-0">
                                        <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200 text-center">
                                            <h3 class="font-bold text-teal-600">To Date</h3>
                                            <p class="text-sm text-stone-500">Completed Milestones</p>
                                        </div>
                                    </div>
                                    <div class="relative">
                                        <div class="hidden md:block w-4 h-4 bg-teal-500 rounded-full absolute top-1/2 -mt-2 -left-2"></div>
                                        <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200">
                                            <ul class="text-sm text-stone-600 space-y-2">
                                                <li>✓ Q2 2020: Founders meet, research begins.</li>
                                                <li>✓ 2022-2023: ML & Deep Learning R&D.</li>
                                                <li>✓ Q1 2024: Legal entity formed in Oman.</li>
                                                <li>✓ Q4 2024: Marketplace & Pro initial releases.</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <!-- Item 2 -->
                                 <div class="md:grid md:grid-cols-2 md:gap-8 items-center mt-8">
                                    <div class="relative md:col-start-1 md:text-right">
                                        <div class="hidden md:block w-4 h-4 bg-teal-500 rounded-full absolute top-1/2 -mt-2 -right-2"></div>
                                        <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200">
                                            <ul class="text-sm text-stone-600 space-y-2 text-left">
                                                <li>→ Q3 2025: Launch Marketplace for Crypto.</li>
                                                <li>→ Q1 2026: Release Quantix IQ for Crypto.</li>
                                                <li>→ Q3 2026: Expand to Forex Market.</li>
                                                <li>→ Q3 2026: Introduce Quantix Pro for retail.</li>
                                            </ul>
                                        </div>
                                    </div>
                                   <div class="flex justify-center md:justify-start mt-4 md:mt-0 md:col-start-2">
                                        <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200 text-center">
                                            <h3 class="font-bold text-teal-600">Going Forward</h3>
                                            <p class="text-sm text-stone-500">Upcoming Launches</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- NEW Section: Roadmap Diagram -->
                    <section id="roadmap-diagram" class="summary-toggleable mb-16 scroll-mt-24" data-id="roadmap-diagram" data-title="Roadmap Diagram">
                        <div class="flex justify-between items-center mb-8">
                            <h2 class="text-3xl font-bold text-center text-gray-800">Detailed 2-Year Roadmap</h2>
                            <div id="roadmap-style-selector" class="flex items-center space-x-2 bg-white p-1 rounded-lg shadow">
                                 <button data-style="vertical" class="roadmap-style-btn active text-sm font-semibold py-2 px-4 rounded-md transition">Timeline</button>
                                 <button data-style="gantt" class="roadmap-style-btn text-sm font-semibold py-2 px-4 rounded-md transition">Gantt</button>
                            </div>
                        </div>

                        <div id="roadmap-vertical-view">
                            <!-- Year 1 -->
                            <div>
                                <h3 class="text-2xl font-bold text-center text-teal-600 mb-8">Year 1: Q3 2025 - Q2 2026</h3>
                                <div class="relative max-w-4xl mx-auto">
                                    <!-- Timeline Line -->
                                    <div class="absolute w-1 bg-teal-200 h-full left-1/2 transform -translate-x-1/2"></div>
                                    <!-- Quarters -->
                                    <div class="space-y-12">
                                        <!-- Q3 2025 -->
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 items-start">
                                            <div class="sm:text-right sm:pr-8">
                                                <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200">
                                                    <p class="font-bold text-stone-500">Q3 2025</p>
                                                    <h4 class="font-bold text-lg">Foundation &amp; Launch</h4>
                                                    <ul class="text-sm text-stone-600 list-disc list-inside sm:text-right">
                                                        <li>Launch Marketplace: Binance, Bybit, OKX</li>
                                                        <li>Offer Quantix Pro to institutions</li>
                                                        <li>Begin hiring initial sales team</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div></div>
                                        </div>
                                        <!-- Q4 2025 -->
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 items-start">
                                            <div></div>
                                            <div>
                                                <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200">
                                                    <p class="font-bold text-stone-500">Q4 2025</p>
                                                    <h4 class="font-bold text-lg">Crypto Expansion & Team Growth</h4>
                                                    <ul class="text-sm text-stone-600 list-disc list-inside">
                                                        <li>Integrate: Bitget, BingX, Pionex</li>
                                                        <li>Hire Support & Admin staff</li>
                                                        <li>Secure first institutional Pro customers</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Q1 2026 -->
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 items-start">
                                            <div class="sm:text-right sm:pr-8">
                                                <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200">
                                                    <p class="font-bold text-stone-500">Q1 2026</p>
                                                    <h4 class="font-bold text-lg">Quantix IQ Launch</h4>
                                                    <ul class="text-sm text-stone-600 list-disc list-inside sm:text-right">
                                                        <li>Launch Quantix IQ for Crypto (Freemium)</li>
                                                        <li>Integrate: KuCoin, MEXC, HTX</li>
                                                        <li>Finalize sales team hiring</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div></div>
                                        </div>
                                        <!-- Q2 2026 -->
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 items-start">
                                            <div></div>
                                            <div>
                                                <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200">
                                                    <p class="font-bold text-stone-500">Q2 2026</p>
                                                    <h4 class="font-bold text-lg">Complete Crypto & Begin Forex</h4>
                                                    <ul class="text-sm text-stone-600 list-disc list-inside">
                                                        <li>Integrate: CoinEx, Gate.io, Kraken (15 total)</li>
                                                        <li>Begin MT4/MT5 integration for Forex</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Year 2 -->
                            <div class="mt-16">
                                <h3 class="text-2xl font-bold text-center text-teal-600 mb-8">Year 2: Q3 2026 - Q2 2027</h3>
                                 <div class="relative max-w-4xl mx-auto">
                                    <!-- Timeline Line -->
                                    <div class="absolute w-1 bg-teal-200 h-full left-1/2 transform -translate-x-1/2"></div>
                                    <!-- Quarters -->
                                    <div class="space-y-12">
                                        <!-- Q3 2026 -->
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 items-start">
                                            <div class="sm:text-right sm:pr-8">
                                                <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200">
                                                    <p class="font-bold text-stone-500">Q3 2026</p>
                                                    <h4 class="font-bold text-lg">Forex Market Entry</h4>
                                                    <ul class="text-sm text-stone-600 list-disc list-inside sm:text-right">
                                                        <li>Launch Marketplace & IQ for Forex</li>
                                                        <li>Integrate with top 5 brokers</li>
                                                        <li>Introduce Quantix Pro for retail</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div></div>
                                        </div>
                                        <!-- Q4 2026 -->
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 items-start">
                                            <div></div>
                                            <div>
                                                <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200">
                                                    <p class="font-bold text-stone-500">Q4 2026</p>
                                                    <h4 class="font-bold text-lg">Forex Expansion</h4>
                                                    <ul class="text-sm text-stone-600 list-disc list-inside">
                                                        <li>Integrate with next 5 brokers</li>
                                                        <li>Scale institutional sales efforts</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Q1 2027 -->
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 items-start">
                                            <div class="sm:text-right sm:pr-8">
                                                <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200">
                                                    <p class="font-bold text-stone-500">Q1 2027</p>
                                                    <h4 class="font-bold text-lg">Scaling Operations</h4>
                                                    <ul class="text-sm text-stone-600 list-disc list-inside sm:text-right">
                                                        <li>Integrate with next 5 brokers</li>
                                                        <li>Expand engineering team</li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div></div>
                                        </div>
                                        <!-- Q2 2027 -->
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 items-start">
                                            <div></div>
                                            <div>
                                                <div class="bg-white p-4 rounded-lg shadow-md border border-stone-200">
                                                    <p class="font-bold text-stone-500">Q2 2027</p>
                                                    <h4 class="font-bold text-lg">Full Market Coverage</h4>
                                                    <ul class="text-sm text-stone-600 list-disc list-inside">
                                                        <li>Complete all 20 target broker integrations</li>
                                                        <li>Analyze user data to optimize funnels</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="roadmap-gantt-view" class="hidden">
                             <div class="bg-white p-4 sm:p-6 rounded-lg shadow-lg border border-gray-200">
                                <!-- Desktop View: Horizontal Gantt Chart -->
                                <div class="hidden md:block">
                                    <!-- Year 1 Header -->
                                    <div class="grid grid-cols-12 gap-2 text-center text-sm font-bold mb-4">
                                        <div class="col-span-2 text-left">Workstream</div>
                                        <div class="col-span-10 grid grid-cols-8">
                                            <div class="col-span-2">Q3 '25</div>
                                            <div class="col-span-2">Q4 '25</div>
                                            <div class="col-span-2">Q1 '26</div>
                                            <div class="col-span-2">Q2 '26</div>
                                        </div>
                                    </div>
                                    <!-- Timeline Grid -->
                                    <div class="grid grid-cols-12 gap-2 text-center text-xs text-gray-400 border-b-2 border-gray-200 pb-2 mb-4">
                                        <div class="col-span-2"></div>
                                        <div class="col-span-10 grid grid-cols-8">
                                            <div class="border-r"></div><div class="border-r"></div>
                                            <div class="border-r"></div><div class="border-r"></div>
                                            <div class="border-r"></div><div class="border-r"></div>
                                            <div class="border-r"></div><div></div>
                                        </div>
                                    </div>
                                    <!-- Year 1 Rows -->
                                    <div class="space-y-3 mb-8">
                                        <h3 class="col-span-12 font-bold text-lg text-rose-700">Year 1</h3>
                                        <!-- Marketplace -->
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <div class="col-span-2 font-semibold text-sm text-right pr-2">Marketplace</div>
                                            <div class="col-span-10 h-8 relative">
                                                <div class="absolute h-full bg-rose-500 rounded-md flex items-center px-2 text-white text-xs font-semibold" style="width: 100%; left: 0;">Crypto Exchange Integration (15 Exchanges)</div>
                                            </div>
                                        </div>
                                        <!-- Quantix IQ -->
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <div class="col-span-2 font-semibold text-sm text-right pr-2">Quantix IQ</div>
                                            <div class="col-span-10 h-8 relative">
                                                <div class="absolute h-full bg-sky-500 rounded-md flex items-center px-2 text-white text-xs font-semibold" style="width: 50%; left: 50%;">Launch & Scale Crypto IQ</div>
                                            </div>
                                        </div>
                                        <!-- Quantix Pro -->
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <div class="col-span-2 font-semibold text-sm text-right pr-2">Quantix Pro</div>
                                            <div class="col-span-10 h-8 relative">
                                                <div class="absolute h-full bg-emerald-500 rounded-md flex items-center px-2 text-white text-xs font-semibold" style="width: 50%; left: 0;">Institutional Rollout</div>
                                            </div>
                                        </div>
                                    </div>

                                     <!-- Year 2 Header -->
                                    <div class="grid grid-cols-12 gap-2 text-center text-sm font-bold mb-4 mt-8">
                                        <div class="col-span-2 text-left"></div>
                                        <div class="col-span-10 grid grid-cols-8">
                                            <div class="col-span-2">Q3 '26</div>
                                            <div class="col-span-2">Q4 '26</div>
                                            <div class="col-span-2">Q1 '27</div>
                                            <div class="col-span-2">Q2 '27</div>
                                        </div>
                                    </div>
                                     <!-- Timeline Grid -->
                                    <div class="grid grid-cols-12 gap-2 text-center text-xs text-gray-400 border-b-2 border-gray-200 pb-2 mb-4">
                                        <div class="col-span-2"></div>
                                        <div class="col-span-10 grid grid-cols-8">
                                            <div class="border-r"></div><div class="border-r"></div>
                                            <div class="border-r"></div><div class="border-r"></div>
                                            <div class="border-r"></div><div class="border-r"></div>
                                            <div class="border-r"></div><div></div>
                                        </div>
                                    </div>
                                     <!-- Year 2 Rows -->
                                    <div class="space-y-3">
                                        <h3 class="col-span-12 font-bold text-lg text-rose-700">Year 2</h3>
                                        <!-- Marketplace -->
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <div class="col-span-2 font-semibold text-sm text-right pr-2">Marketplace</div>
                                            <div class="col-span-10 h-8 relative">
                                                 <div class="absolute h-full bg-rose-400 rounded-md flex items-center px-2 text-white text-xs font-semibold" style="width: 100%; left: 0;">Forex Broker Integration (20 Brokers)</div>
                                            </div>
                                        </div>
                                        <!-- Quantix IQ -->
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <div class="col-span-2 font-semibold text-sm text-right pr-2">Quantix IQ</div>
                                            <div class="col-span-10 h-8 relative">
                                                 <div class="absolute h-full bg-sky-400 rounded-md flex items-center px-2 text-white text-xs font-semibold" style="width: 25%; left: 0;">Launch Forex IQ</div>
                                            </div>
                                        </div>
                                        <!-- Quantix Pro -->
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <div class="col-span-2 font-semibold text-sm text-right pr-2">Quantix Pro</div>
                                            <div class="col-span-10 h-8 relative">
                                                 <div class="absolute h-full bg-emerald-400 rounded-md flex items-center px-2 text-white text-xs font-semibold" style="width: 25%; left: 0;">Launch Retail Pro</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Mobile View: Stacked List -->
                                <div class="md:hidden space-y-8">
                                    <!-- Year 1 -->
                                    <div>
                                        <h3 class="text-2xl font-bold text-center text-gray-700 my-4">Year 1</h3>
                                        <div class="space-y-6">
                                            <!-- Q3 2025 -->
                                            <div class="bg-gray-50 p-4 rounded-lg shadow">
                                                <p class="font-bold text-rose-600">Q3 2025: Foundation &amp; Launch</p>
                                                <ul class="mt-2 text-sm text-gray-600 list-disc list-inside space-y-1">
                                                    <li>Launch Marketplace: Binance, Bybit, OKX</li>
                                                    <li>Offer Quantix Pro to Institutions</li>
                                                    <li>Begin hiring initial sales team</li>
                                                </ul>
                                            </div>
                                            <!-- Q4 2025 -->
                                             <div class="bg-gray-50 p-4 rounded-lg shadow">
                                                <p class="font-bold text-rose-600">Q4 2025: Crypto Expansion & Team Growth</p>
                                                <ul class="mt-2 text-sm text-gray-600 list-disc list-inside space-y-1">
                                                    <li>Integrate: Bitget, BingX, Pionex</li>
                                                    <li>Hire Support & Admin staff</li>
                                                    <li>Secure first institutional Pro customers</li>
                                                </ul>
                                            </div>
                                            <!-- Q1 2026 -->
                                             <div class="bg-gray-50 p-4 rounded-lg shadow">
                                                <p class="font-bold text-rose-600">Q1 2026: Quantix IQ Launch</p>
                                                <ul class="mt-2 text-sm text-gray-600 list-disc list-inside space-y-1">
                                                    <li>Launch Quantix IQ for Crypto (Freemium)</li>
                                                    <li>Integrate: KuCoin, MEXC, HTX</li>
                                                    <li>Finalize sales team hiring</li>
                                                </ul>
                                            </div>
                                            <!-- Q2 2026 -->
                                             <div class="bg-gray-50 p-4 rounded-lg shadow">
                                                <p class="font-bold text-rose-600">Q2 2026: Complete Crypto & Begin Forex</p>
                                                <ul class="mt-2 text-sm text-gray-600 list-disc list-inside space-y-1">
                                                    <li>Integrate: CoinEx, Gate.io, Kraken (15 total)</li>
                                                    <li>Begin MT4/MT5 integration for Forex</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                     <!-- Year 2 -->
                                    <div>
                                        <h3 class="text-2xl font-bold text-center text-gray-700 my-4">Year 2</h3>
                                        <div class="space-y-6">
                                            <!-- Q3 2026 -->
                                            <div class="bg-gray-50 p-4 rounded-lg shadow">
                                                <p class="font-bold text-rose-600">Q3 2026: Forex Market Entry</p>
                                                <ul class="mt-2 text-sm text-gray-600 list-disc list-inside space-y-1">
                                                    <li>Launch Marketplace & IQ for Forex</li>
                                                    <li>Integrate with top 5 brokers</li>
                                                    <li>Introduce Quantix Pro for retail</li>
                                                </ul>
                                            </div>
                                            <!-- Q4 2026 -->
                                             <div class="bg-gray-50 p-4 rounded-lg shadow">
                                                <p class="font-bold text-rose-600">Q4 2026: Forex Expansion</p>
                                                <ul class="mt-2 text-sm text-gray-600 list-disc list-inside space-y-1">
                                                    <li>Integrate with next 5 brokers</li>
                                                    <li>Scale institutional sales efforts</li>
                                                </ul>
                                            </div>
                                            <!-- Q1 2027 -->
                                             <div class="bg-gray-50 p-4 rounded-lg shadow">
                                                <p class="font-bold text-rose-600">Q1 2027: Scaling Operations</p>
                                                <ul class="mt-2 text-sm text-gray-600 list-disc list-inside space-y-1">
                                                    <li>Integrate with next 5 brokers</li>
                                                    <li>Expand engineering team</li>
                                                </ul>
                                            </div>
                                            <!-- Q2 2027 -->
                                             <div class="bg-gray-50 p-4 rounded-lg shadow">
                                                <p class="font-bold text-rose-600">Q2 2027: Full Market Coverage</p>
                                                <ul class="mt-2 text-sm text-gray-600 list-disc list-inside space-y-1">
                                                    <li>Complete all 20 target broker integrations</li>
                                                    <li>Analyze user data to optimize funnels</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Section: Quantix Key Functionalities -->
                    <section id="key-functionalities" class="summary-toggleable mb-16 scroll-mt-24 min-h-[50vh]" data-id="key-functionalities" data-title="Key Functionalities">
                        <h2 class="text-3xl font-bold text-center mb-12">Quantix Key Functionalities</h2>
                        <div id="functionalities-container" class="max-w-5xl mx-auto">
                            <!-- Main Display Area -->
                            <div id="main-functionality-display" class="bg-white p-4 rounded-lg shadow-lg mb-4 text-center max-w-md mx-auto">
                                <img id="main-functionality-image" src="" alt="" class="w-full h-[34rem] object-contain rounded-md bg-stone-100">
                            </div>
                            <div id="main-functionality-text" class="text-center mb-6 px-4">
                               <h3 id="main-functionality-title" class="text-xl font-bold text-teal-600 mb-2"></h3>
                               <p id="main-functionality-description" class="text-stone-600 max-w-2xl mx-auto"></p>
                            </div>
                            <!-- Thumbnails -->
                            <div id="functionality-thumbnails" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                                <!-- Thumbnails will be generated by JS -->
                            </div>
                        </div>
                    </section>

                    <!-- Section: Market Size -->
                    <section id="market-size" class="summary-toggleable mb-16 scroll-mt-24" data-id="market-size" data-title="Market Size">
                        <h2 class="text-3xl font-bold text-center mb-8">A Massive, Underserved Market</h2>
                        <div class="bg-white p-8 rounded-lg shadow-md max-w-4xl mx-auto space-y-8 text-center">
                             <p class="text-lg text-stone-600 mx-auto">The market is at a perfect inflection point. The AI boom is creating unprecedented demand for intelligent tools, just as a new generation of retail investors seeks sophisticated ways to manage their own capital.</p>
                            <div class="bg-teal-50 p-6 rounded-lg border border-teal-200">
                                 <h3 class="text-xl font-bold text-teal-800">AI Trading Platform Market</h3>
                                <p class="text-6xl font-bold text-teal-600 my-4">$69.95 Billion</p>
                                 <p class="text-stone-600 font-semibold">Projected market size by 2034, growing at a 20.04% CAGR.</p>
                                 <p class="text-xs text-stone-500 mt-2">Source: Precedence Research</p>
                            </div>
                             <p class="text-lg text-stone-600 mx-auto">Quantix is perfectly positioned to capture this market by providing the accessible, powerful AI tools that retail traders are actively seeking.</p>
                        </div>
                    </section>

                    <!-- Section: How Quantix Marketplace Works -->
                    <section id="how-it-works" class="summary-toggleable mb-16 scroll-mt-24 min-h-[50vh]" data-id="how-it-works" data-title="How It Works">
                        <h2 class="text-3xl font-bold text-center mb-8">How Quantix Marketplace Works</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h3 class="font-semibold text-lg mb-2 text-center text-teal-600">Method 1: Via Exchange Marketplace</h3>
                                <p class="text-sm text-stone-600">Find Quantix bots directly on the exchange without any direct connection to Quantix, and share profits based on the exchange’s copy‑trading rules.</p>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h3 class="font-semibold text-lg mb-2 text-center text-teal-600">Method 2: Direct Connection to Quantix</h3>
                                <p class="text-sm text-stone-600">Connect directly to Quantix using an API/secret key or the exchange’s Fast Connect option (without any withdrawal permission) and run the bots. In this method, the user must pay a monthly bot execution fee and share profits with Quantix.</p>
                            </div>
                        </div>
                    </section>

                    <!-- Section: Supported Exchanges -->
                    <section id="supported-exchanges" class="summary-toggleable mb-16 scroll-mt-24" data-id="supported-exchanges" data-title="Supported Exchanges">
                        <h2 class="text-3xl font-bold text-center mb-8">Supported Exchanges & Brokers</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h3 class="text-xl font-bold mb-4">Cryptocurrency Exchanges</h3>
                                <p class="text-sm text-stone-600 mb-4">Initial support for key exchanges selected for high volume, deep liquidity, and robust copy-trading infrastructure.</p>
                                <div class="grid grid-cols-2 gap-4 text-sm text-stone-700">
                                    <ul class="space-y-2">
                                        <li>✓ Binance</li>
                                        <li>✓ Bybit</li>
                                        <li>✓ OKX</li>
                                        <li>✓ Bitget</li>
                                        <li>✓ BingX</li>
                                        <li>✓ Pionex</li>
                                    </ul>
                                     <ul class="space-y-2">
                                        <li>✓ KuCoin</li>
                                        <li>✓ MEXC</li>
                                        <li>✓ HTX (Huobi)</li>
                                        <li>✓ CoinEx</li>
                                        <li>✓ Gate.io</li>
                                        <li>✓ Kraken</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h3 class="text-xl font-bold mb-4">Forex Brokers</h3>
                                <p class="text-sm text-stone-600 mb-4">Integration with any broker supporting the industry-standard MT4 and MT5 platforms, with a focus on these leading 20 brokers.</p>
                                 <div class="grid grid-cols-2 gap-x-4 gap-y-2 text-sm text-stone-700">
                                    <ul class="space-y-2">
                                        <li>✓ Pepperstone</li>
                                        <li>✓ IC Markets</li>
                                        <li>✓ XM</li>
                                        <li>✓ Exness</li>
                                        <li>✓ AvaTrade</li>
                                        <li>✓ HotForex (HFM)</li>
                                        <li>✓ FBS</li>
                                        <li>✓ FxPro</li>
                                        <li>✓ OANDA</li>
                                        <li>✓ Forex.com</li>
                                    </ul>
                                     <ul class="space-y-2">
                                        <li>✓ XTB</li>
                                        <li>✓ RoboForex</li>
                                        <li>✓ Tickmill</li>
                                        <li>✓ Admirals</li>
                                        <li>✓ OctaFX</li>
                                        <li>✓ InstaForex</li>
                                        <li>✓ HYCM</li>
                                        <li>✓ Equiti</li>
                                        <li>✓ FXTM</li>
                                        <li>✓ Alpari</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Section: Financials -->
                    <section id="financials" class="summary-toggleable mb-16 scroll-mt-24" data-id="financials" data-title="Financials">
                        <h2 class="text-3xl font-bold text-center mb-8">Financial Projections</h2>
                        <div class="space-y-12">
                             <div class="bg-white p-6 rounded-lg shadow-md summary-toggleable" data-id="table-financial-summary" data-title="Table: 5-Year Financial Plan">
                                <h3 class="text-xl font-bold mb-4">5-Year Financial Plan</h3>
                                <div class="table-container">
                                    <table class="w-full text-left text-sm summary-table responsive-table" id="financial-summary-table">
                                        <!-- JS will populate this -->
                                    </table>
                                </div>
                            </div>
                             <div class="bg-white p-6 rounded-lg shadow-md summary-toggleable" data-id="table-kpi-summary" data-title="Table: Key Performance Indicators">
                                <h3 class="text-xl font-bold mb-4">Key Performance Indicators (KPIs)</h3>
                                <div class="table-container">
                                    <table class="w-full text-left text-sm responsive-table" id="kpi-summary-table">
                                        <!-- JS will populate this -->
                                    </table>
                                </div>
                            </div>
                            <div class="grid grid-cols-1 gap-8">
                                <div class="bg-white p-6 rounded-lg shadow-md summary-toggleable" data-id="chart-revenue" data-title="Chart: Revenue by Business Unit">
                                    <h3 class="text-xl font-bold mb-4 text-center">Revenue by Business Unit</h3>
                                    <div class="chart-container"><canvas id="revenueChart"></canvas></div>
                                </div>
                                <div class="bg-white p-6 rounded-lg shadow-md summary-toggleable" data-id="chart-cashflow" data-title="Chart: Quarterly Cash Flow">
                                    <h3 class="text-xl font-bold mb-4 text-center">Quarterly Cash Flow & Milestones</h3>
                                    <div class="chart-container"><canvas id="cashFlowChart"></canvas></div>
                                </div>
                                 <div class="bg-white p-6 rounded-lg shadow-md summary-toggleable" data-id="chart-runrate" data-title="Chart: Annual Revenue Run Rate">
                                    <h3 class="text-xl font-bold mb-4 text-center">Annual Revenue Run Rate (EOY)</h3>
                                    <div class="chart-container"><canvas id="runRateChart"></canvas></div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Section: Team & Budget -->
                    <section id="team-budget" class="summary-toggleable mb-16 scroll-mt-24" data-id="team-budget" data-title="Team & Budget">
                        <h2 class="text-3xl font-bold text-center mb-8">Team Growth & Budget</h2>
                         <div class="bg-white p-6 rounded-lg shadow-md summary-toggleable" data-id="table-opex" data-title="Table: 5-Year Operating Expenses">
                            <h3 class="text-xl font-bold mb-4">5-Year Operating Expenses</h3>
                            <div class="table-container">
                                 <table class="w-full text-left text-sm responsive-table" id="opex-summary-table">
                                    <!-- JS will populate this -->
                                </table>
                            </div>
                        </div>
                    </section>

                    <!-- NEW Section: Use of Funds -->
                    <section id="use-of-funds" class="summary-toggleable mb-16 scroll-mt-24" data-id="use-of-funds" data-title="Use of Funds">
                        <h2 class="text-3xl font-bold text-center mb-12">Use of Funds</h2>
                        <div class="bg-white p-8 rounded-lg shadow-md max-w-5xl mx-auto">
                            <div class="text-center mb-8">
                                <h3 class="text-2xl font-bold">Seeking $5 Million in Seed Funding</h3>
                                <p class="text-stone-600 mt-2">To accelerate our go-to-market strategy, expand our team, and scale our platform infrastructure.</p>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                                <div class="chart-container relative h-80 w-80 mx-auto summary-toggleable" data-id="chart-use-of-funds" data-title="Chart: Use of Funds">
                                    <canvas id="useOfFundsChart"></canvas>
                                </div>
                                <div>
                                    <ul class="space-y-4">
                                        <li class="flex items-start">
                                            <div class="w-4 h-4 rounded-full mt-1 mr-3" style="background-color: #312e81;"></div>
                                            <div>
                                                <h4 class="font-bold">Team Expansion & Salaries (33% - $1.65M)</h4>
                                                <p class="text-sm text-stone-600">Recruit top-tier talent in engineering, sales, and customer support to execute our roadmap and support a growing user base.</p>
                                            </div>
                                        </li>
                                        <li class="flex items-start">
                                            <div class="w-4 h-4 rounded-full mt-1 mr-3" style="background-color: #4338ca;"></div>
                                            <div>
                                                <h4 class="font-bold">Product Development & R&D (20% - $1.0M)</h4>
                                                <p class="text-sm text-stone-600">Accelerate the development of Quantix IQ, the institutional-grade Pro platform, and the integration with the Forex market.</p>
                                            </div>
                                        </li>
                                        <li class="flex items-start">
                                            <div class="w-4 h-4 rounded-full mt-1 mr-3" style="background-color: #6366f1;"></div>
                                            <div>
                                                <h4 class="font-bold">Sales & Marketing (15% - $0.75M)</h4>
                                                <p class="text-sm text-stone-600">Drive user acquisition through targeted digital marketing, influencer partnerships, and building a strong community presence.</p>
                                            </div>
                                        </li>
                                        <li class="flex items-start">
                                            <div class="w-4 h-4 rounded-full mt-1 mr-3" style="background-color: #818cf8;"></div>
                                            <div>
                                                <h4 class="font-bold">Marketplace Bot Capitalization (28% - $1.4M)</h4>
                                                <p class="text-sm text-stone-600">Provide the necessary capital to deploy and run our proprietary bots on Crypto ($0.6M) and Forex ($0.8M) partner exchanges.</p>
                                            </div>
                                        </li>
                                        <li class="flex items-start">
                                            <div class="w-4 h-4 rounded-full mt-1 mr-3" style="background-color: #a5b4fc;"></div>
                                            <div>
                                                <h4 class="font-bold">Operational & G&A (4% - $0.2M)</h4>
                                                <p class="text-sm text-stone-600">Cover essential operating costs including legal, IT infrastructure, and administrative overhead.</p>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <p class="text-center text-stone-600 mt-8 font-semibold">This funding provides an estimated 24-month runway to achieve key growth milestones and reach profitability.</p>
                        </div>
                    </section>

                     <!-- Section: Team -->
                    <section id="team" class="summary-toggleable mb-16 scroll-mt-24" data-id="team" data-title="Team">
                        <h2 class="text-3xl font-bold text-center mb-8">Quantix Team</h2>
                        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                            <div class="text-center">
                                <img src="Vahid Shahpari Fard.jpg" alt="Vahid Shahpari Fard" class="w-32 h-32 rounded-full mx-auto mb-4 shadow-md object-cover" onerror="this.onerror=null;this.src='https://placehold.co/128x128/E7E5E4/78716C?text=Photo';">
                                <h3 class="font-bold">Vahid Shahpari Fard</h3>
                                <p class="text-sm text-stone-500">CEO & COO</p>
                            </div>
                            <div class="text-center">
                                <img src="Roger Goudarzi.jpg" alt="Roger Goudarzi" class="w-32 h-32 rounded-full mx-auto mb-4 shadow-md object-cover" onerror="this.onerror=null;this.src='https://placehold.co/128x128/E7E5E4/78716C?text=Photo';">
                                <h3 class="font-bold">Roger Goudarzi</h3>
                                <p class="text-sm text-stone-500">CTO & Investor</p>
                            </div>
                            <div class="text-center">
                                <img src="Ahmadreza Rasekhi.jpeg" alt="Ahmadreza Rasekhi" class="w-32 h-32 rounded-full mx-auto mb-4 shadow-md object-cover" onerror="this.onerror=null;this.src='https://placehold.co/128x128/E7E5E4/78716C?text=Photo';">
                                <h3 class="font-bold">Ahmadreza Rasekhi</h3>
                                <p class="text-sm text-stone-500">VP of Engineering</p>
                            </div>
                            <div class="text-center">
                                <img src="Mohammad Shahpari Fard.jpg" alt="Mohammad Shahpari Fard" class="w-32 h-32 rounded-full mx-auto mb-4 shadow-md object-cover" onerror="this.onerror=null;this.src='https://placehold.co/128x128/E7E5E4/78716C?text=Photo';">
                                <h3 class="font-bold">Mohammad Shahpari Fard</h3>
                                <p class="text-sm text-stone-500">Senior Developer Director</p>
                            </div>
                            <div class="text-center">
                                <img src="Javad Abazari.jpg" alt="Javad Abazari" class="w-32 h-32 rounded-full mx-auto mb-4 shadow-md object-cover" onerror="this.onerror=null;this.src='https://placehold.co/128x128/E7E5E4/78716C?text=Photo';">
                                <h3 class="font-bold">Javad Abazari</h3>
                                <p class="text-sm text-stone-500">Head of R&D</p>
                            </div>
                            <div class="text-center">
                                <img src="Pouria Madan Dar.jpg" alt="Pouria Madandar" class="w-32 h-32 rounded-full mx-auto mb-4 shadow-md object-cover" onerror="this.onerror=null;this.src='https://placehold.co/128x128/E7E5E4/78716C?text=Photo';">
                                <h3 class="font-bold">Pouria Madandar</h3>
                                <p class="text-sm text-stone-500">Head of UI</p>
                            </div>
                            <div class="text-center">
                                <img src="Fatemeh Rasekhi.png" alt="Fatemeh Rasekhi" class="w-32 h-32 rounded-full mx-auto mb-4 shadow-md object-cover" onerror="this.onerror=null;this.src='https://placehold.co/128x128/E7E5E4/78716C?text=Photo';">
                                <h3 class="font-bold">Fatemeh Rasekhi</h3>
                                <p class="text-sm text-stone-500">Full Stack Developer</p>
                            </div>
                            <div class="text-center">
                                <img src="Amir Ali Omidvar.jpg" alt="Amir Ali Omidvar" class="w-32 h-32 rounded-full mx-auto mb-4 shadow-md object-cover" onerror="this.onerror=null;this.src='https://placehold.co/128x128/E7E5E4/78716C?text=Photo';">
                                <h3 class="font-bold">Amir Ali Omidvar</h3>
                                <p class="text-sm text-stone-500">Full Stack Developer</p>
                            </div>
                            <div class="text-center">
                                <img src="Mohammad Rahim Pour.jpg" alt="Mohammad Rahimpour" class="w-32 h-32 rounded-full mx-auto mb-4 shadow-md object-cover" onerror="this.onerror=null;this.src='https://placehold.co/128x128/E7E5E4/78716C?text=Photo';">
                                <h3 class="font-bold">Mohammad Rahimpour</h3>
                                <p class="text-sm text-stone-500">Head of AI</p>
                            </div>
                            <div class="text-center">
                                <img src="Maryam Zarisfi.jpg" alt="Maryam Zarisfi" class="w-32 h-32 rounded-full mx-auto mb-4 shadow-md object-cover" onerror="this.onerror=null;this.src='https://placehold.co/128x128/E7E5E4/78716C?text=Photo';">
                                <h3 class="font-bold">Maryam Zarisfi</h3>
                                <p class="text-sm text-stone-500">Head of Analysis & Bot Factory</p>
                            </div>
                            <div class="text-center">
                                <img src="Navid Mirpourian.png" alt="Navid Mirpourian" class="w-32 h-32 rounded-full mx-auto mb-4 shadow-md object-cover" onerror="this.onerror=null;this.src='https://placehold.co/128x128/E7E5E4/78716C?text=Photo';">
                                <h3 class="font-bold">Navid Mirpourian</h3>
                                <p class="text-sm text-stone-500">Analyst & Trading Advisor</p>
                            </div>
                        </div>
                    </section>

                     <!-- Section: Competition -->
                    <section id="competition" class="summary-toggleable mb-16 scroll-mt-24" data-id="competition" data-title="Competition">
                        <h2 class="text-3xl font-bold text-center mb-8">Validated Competitive Landscape</h2>
                        <div class="bg-white p-6 rounded-lg shadow-md space-y-8">
                            <p class="text-stone-600 text-center max-w-4xl mx-auto">Here are the regenerated competitive landscape tables from the previous analysis, which correct and add nuance to the information presented in the pitch deck.</p>

                            <div class="flex justify-center border-b border-stone-200">
                                <button class="tab-btn active flex-1 md:flex-none text-sm md:text-base font-semibold py-3 px-6 rounded-t-lg transition" data-tab="crypto-comp">Crypto Competitors</button>
                                <button class="tab-btn flex-1 md:flex-none text-sm md:text-base font-semibold py-3 px-6 rounded-t-lg transition text-stone-600" data-tab="forex-comp">Forex Competitors</button>
                            </div>

                            <div id="crypto-comp-table" class="table-container">
                                 <table class="w-full text-left text-sm responsive-table">
                                    <thead class="bg-stone-50">
                                        <tr>
                                            <th class="p-3 font-semibold">Feature</th>
                                            <th class="p-3 font-semibold text-teal-600">Quantix (Proposed)</th>
                                            <th class="p-3 font-semibold">3Commas</th>
                                            <th class="p-3 font-semibold">Bitsgap</th>
                                            <th class="p-3 font-semibold">Cryptohopper</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-stone-200">
                                        <tr><td class="p-3 font-semibold" data-label="Feature">Primary Business Model</td><td class="p-3 font-bold text-teal-700" data-label="Quantix (Proposed)">B2C & B2B</td><td class="p-3" data-label="3Commas">B2C Subscription</td><td class="p-3" data-label="Bitsgap">B2C Subscription</td><td class="p-3" data-label="Cryptohopper">B2C Subscription</td></tr>
                                        <tr><td class="p-3 font-semibold" data-label="Feature">Key Products</td><td class="p-3 font-bold text-teal-700" data-label="Quantix (Proposed)">AI Marketplace, IQ, Pro</td><td class="p-3" data-label="3Commas">Bots, Smart Terminal, Portfolio Manager</td><td class="p-3" data-label="Bitsgap">Bots, Arbitrage, Trading Terminal</td><td class="p-3" data-label="Cryptohopper">Bots, Marketplace, Signals, Social Trading</td></tr>
                                        <tr><td class="p-3 font-semibold" data-label="Feature">Target Markets</td><td class="p-3 font-bold text-teal-700" data-label="Quantix (Proposed)">Retail & Institutional</td><td class="p-3" data-label="Commas">Retail & Pro-sumer</td><td class="p-3" data-label="Bitsgap">Retail & Pro-sumer</td><td class="p-3" data-label="Cryptohopper">Beginner, Casual, & Algorithmic Traders</td></tr>
                                        <tr><td class="p-3 font-semibold" data-label="Feature">AI in Strategy Creation</td><td class="p-3 font-bold text-teal-700" data-label="Quantix (Proposed)">Yes (Core Feature)</td><td class="p-3" data-label="3Commas">Yes (Predictive & Optimizing)¹</td><td class="p-3" data-label="Bitsgap">Yes (Assistive & Analytical)²</td><td class="p-3" data-label="Cryptohopper">Yes (Learning & Selective)³</td></tr>
                                        <tr><td class="p-3 font-semibold" data-label="Feature">Est. Active Users</td><td class="p-3" data-label="Quantix (Proposed)">Pre-launch</td><td class="p-3" data-label="Commas">~220,000+</td><td class="p-3" data-label="Bitsgap">~600,000+</td><td class="p-3" data-label="Cryptohopper">~1,000,000+</td></tr>
                                        <tr><td class="p-3 font-semibold" data-label="Feature">Est. Annual Revenue</td><td class="p-3" data-label="Quantix (Proposed)">Pre-launch</td><td class="p-3" data-label="Commas">~$20-30M</td><td class="p-3" data-label="Bitsgap">~$8.4M</td><td class="p-3" data-label="Cryptohopper">~$15-25M</td></tr>
                                    </tbody>
                                </table>
                                <div class="text-xs text-stone-500 mt-4 space-y-1">
                                    <p>¹3Commas uses AI/ML for predictive analytics, portfolio optimization, and automated trading bots.</p>
                                    <p>²Bitsgap uses an "AI Assistant" to analyze data and recommend bot strategies to users.</p>
                                    <p>³Cryptohopper's "Algorithm Intelligence" learns from user-fed strategies to select the optimal one for current market conditions.</p>
                                </div>
                            </div>

                            <div id="forex-comp-table" class="table-container hidden">
                                 <table class="w-full text-left text-sm responsive-table">
                                    <thead class="bg-stone-50">
                                        <tr>
                                            <th class="p-3 font-semibold">Feature</th>
                                            <th class="p-3 font-semibold text-teal-600">Quantix (Proposed)</th>
                                            <th class="p-3 font-semibold">MT Marketplace</th>
                                            <th class="p-3 font-semibold">ZuluTrade</th>
                                            <th class="p-3 font-semibold">Strategy Quant</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-stone-200">
                                        <tr><td class="p-3 font-semibold" data-label="Feature">Primary Business Model</td><td class="p-3 font-bold text-teal-700" data-label="Quantix (Proposed)">B2C & B2B</td><td class="p-3" data-label="MT Marketplace">B2C Asset Sales</td><td class="p-3" data-label="ZuluTrade">Copy Trading (Commission/Broker-paid)</td><td class="p-3" data-label="Strategy Quant">B2C Software License</td></tr>
                                        <tr><td class="p-3 font-semibold" data-label="Feature">Key Products</td><td class="p-3" data-label="Quantix (Proposed)">AI Marketplace, IQ, Pro</td><td class="p-3" data-label="MT Marketplace">EA & Indicator Marketplace</td><td class="p-3" data-label="ZuluTrade">Copy Trading Platform, Social Network</td><td class="p-3" data-label="Strategy Quant">Strategy Builder Software</td></tr>
                                        <tr><td class="p-3 font-semibold" data-label="Feature">Target Markets</td><td class="p-3 font-bold text-teal-700" data-label="Quantix (Proposed)">Retail & Institutional</td><td class="p-3" data-label="MT Marketplace">Retail Traders (MT4/5)</td><td class="p-3" data-label="ZuluTrade">Retail Traders</td><td class="p-3" data-label="Strategy Quant">Pro-sumers & Quants</td></tr>
                                        <tr><td class="p-3 font-semibold" data-label="Feature">AI in Strategy Creation</td><td class="p-3 font-bold text-teal-700" data-label="Quantix (Proposed)">Yes (Core Feature)</td><td class="p-3" data-label="MT Marketplace">Yes (via 3rd-Party EAs)⁴</td><td class="p-3" data-label="ZuluTrade">Yes (via 3rd-Party Leaders)⁵</td><td class="p-3" data-label="Strategy Quant">Yes (Genetic Programming)⁶</td></tr>
                                        <tr><td class="p-3 font-semibold" data-label="Feature">Est. Active Users</td><td class="p-3" data-label="Quantix (Proposed)">Pre-launch</td><td class="p-3" data-label="MT Marketplace">~7,000,000+</td><td class="p-3" data-label="ZuluTrade">~1,000,000+</td><td class="p-3" data-label="Strategy Quant">N/A (Niche)</td></tr>
                                        <tr><td class="p-3 font-semibold" data-label="Feature">Est. Annual Revenue</td><td class="p-3" data-label="Quantix (Proposed)">Pre-launch</td><td class="p-3" data-label="MT Marketplace">N/A (Commission)</td><td class="p-3" data-label="ZuluTrade">N/A (Volume-based)</td><td class="p-3" data-label="Strategy Quant">N/A (License-based)</td></tr>
                                    </tbody>
                                </table>
                                <div class="text-xs text-stone-500 mt-4 space-y-1">
                                   <p>⁴The platform hosts thousands of Expert Advisors (EAs) marketed with AI, Neural Network, and ML capabilities.</p>
                                   <p>⁵The platform allows users to copy "Leaders" who explicitly offer AI- and ML-driven trading strategies.</p>
                                   <p>⁶Uses evolutionary algorithms, a subfield of AI, to automatically generate and optimize trading strategies from building blocks.</p>
                                </div>
                            </div>

                        </div>
                    </section>
                    <!-- NEW SECTION: Why Quantix -->
                    <section id="why-quantix" class="summary-toggleable mb-16 scroll-mt-24 min-h-[50vh]" data-id="why-quantix" data-title="Why Quantix">
                        <h2 class="text-3xl font-bold text-center mb-12">Why Quantix? Our Competitive Edge</h2>
                        <div class="bg-white p-6 rounded-lg shadow-md max-w-6xl mx-auto">
                            <div id="why-quantix-tabs" class="flex flex-wrap justify-center gap-2 md:gap-4 mb-6">
                                <button data-tab="ecosystem" class="why-quantix-tab active text-sm md:text-base font-semibold py-2 px-4 rounded-full transition bg-stone-100 text-stone-700">Unified Ecosystem</button>
                                <button data-tab="ai" class="why-quantix-tab text-sm md:text-base font-semibold py-2 px-4 rounded-full transition bg-stone-100 text-stone-700">Proprietary Strategy AI</button>
                                <button data-tab="multi-market" class="why-quantix-tab text-sm md:text-base font-semibold py-2 px-4 rounded-full transition bg-stone-100 text-stone-700">Multi-Market</button>
                                <button data-tab="security" class="why-quantix-tab text-sm md:text-base font-semibold py-2 px-4 rounded-full transition bg-stone-100 text-stone-700">Trust & Security</button>
                                <button data-tab="functionality" class="why-quantix-tab text-sm md:text-base font-semibold py-2 px-4 rounded-full transition bg-stone-100 text-stone-700">Unique Functionality</button>
                            </div>
                            <div id="why-quantix-content" class="p-4 border-t border-stone-200">
                                <!-- Content will be injected by JS -->
                            </div>
                        </div>
                    </section>
                </main>
            </div>
        </div>
    </div>

    <!-- Summary View Modal -->
    <div id="summary-modal" class="modal-backdrop fixed inset-0 z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center p-4 border-b border-stone-200">
                <h3 class="text-xl font-bold">Customize Summary View</h3>
                <button id="close-summary-modal" class="text-stone-500 hover:text-stone-800 text-2xl">&times;</button>
            </div>
            <div id="summary-options" class="p-6 overflow-y-auto">
                <!-- Checkboxes will be generated here by JS -->
            </div>
            <div class="p-4 mt-auto border-t border-stone-200 flex justify-end space-x-3">
                <button id="cancel-summary" class="text-sm font-semibold py-2 px-4 rounded-lg bg-stone-100 text-stone-700 hover:bg-stone-200 transition">Cancel</button>
                <button id="apply-summary" class="text-sm font-semibold py-2 px-4 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition">Apply Summary</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal-backdrop fixed inset-0 z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center p-4 border-b border-stone-200">
                <h3 class="text-xl font-bold">Presentation Settings</h3>
                <button id="close-settings-modal" class="text-stone-500 hover:text-stone-800 text-2xl">&times;</button>
            </div>
            <div class="p-6 overflow-y-auto space-y-6">
                <!-- Navigation Mode -->
                <div>
                    <h4 class="font-bold text-lg mb-2">Navigation Mode</h4>
                    <div class="flex space-x-4">
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="navMode" value="scrolling" class="form-radio text-teal-600">
                            <span>Scrolling Mode</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="navMode" value="single-section" class="form-radio text-teal-600">
                            <span>Single-Section Mode</span>
                        </label>
                    </div>
                </div>
                <!-- Menu Position -->
                <div>
                    <h4 class="font-bold text-lg mb-2">Menu Position</h4>
                    <div class="flex space-x-4">
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="menuPosition" value="side" class="form-radio text-teal-600">
                            <span>Side Menu</span>
                        </label>
                        <label class="flex items-center space-x-2">
                            <input type="radio" name="menuPosition" value="top" class="form-radio text-teal-600">
                            <span>Top Menu</span>
                        </label>
                    </div>
                </div>
                 <!-- External Links -->
                <div>
                    <h4 class="font-bold text-lg mb-2">External Links</h4>
                    <div class="space-y-2">
                         <label class="flex items-center space-x-3 cursor-pointer">
                            <input type="checkbox" id="setting-show-bots-link" class="form-checkbox h-5 w-5 text-teal-600 rounded">
                            <span class="text-stone-700">Show Quantix Bots Link</span>
                        </label>
                         <label class="flex items-center space-x-3 cursor-pointer">
                            <input type="checkbox" id="setting-show-financing-link" class="form-checkbox h-5 w-5 text-teal-600 rounded">
                            <span class="text-stone-700">Show Quantix Financing Link</span>
                        </label>
                    </div>
                </div>
                <!-- ADDED: UI Controls Section -->
                <div>
                    <h4 class="font-bold text-lg mb-2">UI Controls</h4>
                    <div class="space-y-2">
                         <label class="flex items-center space-x-3 cursor-pointer">
                            <input type="checkbox" id="setting-show-floating-controls" class="form-checkbox h-5 w-5 text-teal-600 rounded">
                            <span class="text-stone-700">Show Floating Controls</span>
                        </label>
                    </div>
                </div>
                <!-- Summary Options -->
                <div>
                    <h4 class="font-bold text-lg mb-2">Summary Options</h4>
                    <p class="text-sm text-stone-600 mb-2">Configure which sections, charts, and tables are visible in "Summary View".</p>
                    <button id="configure-summary-btn" class="text-sm font-semibold py-2 px-4 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition">Configure Summary</button>
                </div>
            </div>
            <div class="p-4 mt-auto border-t border-stone-200 flex justify-end space-x-3">
                <button id="cancel-settings" class="text-sm font-semibold py-2 px-4 rounded-lg bg-stone-100 text-stone-700 hover:bg-stone-200 transition">Cancel</button>
                <button id="save-settings" class="text-sm font-semibold py-2 px-4 rounded-lg bg-teal-600 text-white hover:bg-teal-700 transition">Save Settings</button>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- GLOBAL VARIABLES & CONFIGURATION ---
            const charts = {}; // Object to store Chart.js instances
            const START_YEAR = 2025; // Starting year for financial projections

            // --- UTILITY FUNCTIONS ---
            const formatCurrency = (value, compact = false) => {
                if (value === 'N/A' || typeof value !== 'number') return 'N/A';
                const sign = value < 0 ? '-' : '';
                const absValue = Math.abs(value);
                if (compact) {
                    if (absValue >= 1e6) return `${sign}${(absValue / 1e6).toFixed(1)}M`;
                    if (absValue >= 1e3) return `${sign}${(absValue / 1e3).toFixed(0)}K`;
                    return `${sign}$${Math.round(absValue)}`;
                }
                return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(value);
            };

            const formatNumber = (value) => {
                if (typeof value !== 'number') return '0';
                return Math.round(value).toLocaleString('en-US');
            };

            // --- DEFAULTS FROM GTM DASHBOARD V21 ---
            const GTM_DEFAULTS_CRYPTO = { market: 'crypto', aumPerUser: 2000, monthlyReturn: 0.03, growthModelType: 's-curve', linearNewCopiersPerPartner: 330, initialQuantixInvestment: 600000, customParams: { growthModel: { 1: { growth: 0.60, churn: 0.04 }, 2: { growth: 0.25, churn: 0.03 }, 3: { growth: 0.12, churn: 0.02 }, 4: { growth: 0.07, churn: 0.02 }, 5: { growth: 0.07, churn: 0.02 } } } };
            const GTM_DEFAULTS_FOREX = { market: 'forex', aumPerUser: 1500, monthlyReturn: 0.03, growthModelType: 's-curve', linearNewCopiersPerPartner: 200, initialQuantixInvestment: 800000, customParams: { growthModel: { 1: { growth: 0.00, churn: 0.00 }, 2: { growth: 0.60, churn: 0.04 }, 3: { growth: 0.25, churn: 0.03 }, 4: { growth: 0.12, churn: 0.02 }, 5: { growth: 0.07, churn: 0.02 } } } };
            const IQ_DEFAULTS = { startMonth: 6, costPerFreeTrial: 15, planUptake: { annual: 0.7, monthly: 0.3 }, paidUserDist: { basic: 0.6, pro: 0.3, elite: 0.1 }, newFreeTrialsPerMonth: { 1: 700, 2: 2500, 3: 4500 }, convRate: { 1: 0.10, 2: 0.15, 3: 0.20 }, annualPaidChurn: { 1: 0.35, 2: 0.25, 3: 0.15 } };
            const PRO_DEFAULTS = { annualChurnRate: 0.05, pricing: { pro: {nre: 0, license: 10000 }, enterprise: { nre: 250000, license: 120000 } }, newDealsPerYear: { pro: [2, 4, 8, 10, 12], enterprise: [1, 2, 3, 4, 5] }, affiliateParams: { adoptionRate: 0.40, avgCopiersPerAffiliate: 150, avgAumPerCopier: 1500, monthlyBotReturn: 0.03, quantixProfitShare: 0.30 }, serverCosts: { pro: 202.40, enterprise: 202.40 } };
            const PEOPLE_DEFAULTS = {
                benefitsAndTaxRate: 0.25, guaranteedSalesBonus: 2500, itPerFTE: 250, commsPerFTE: 2000,
                travelBudget: { cLevel: 10000, director: 3000, standard: 1500 },
                recruitingFeeTiers: { cLevel: 0.35, director: 0.30, standard: 0.25 },
                employees: [
                    { role: 'CEO', baseSalary: 360000, doh: 1, type: 'cLevel', adjustments:[-0.65,-0.50,-0.40,0.00,0.00] },
                    { role: 'CFO', baseSalary: 250000, doh: 1, type: 'cLevel', adjustments:[-0.95,-0.90,-0.75,-0.25,0.00] },
                    { role: 'COO', baseSalary: 225000, doh: 1, type: 'cLevel', adjustments:[-0.72,-0.60,-0.50,-0.25,0.00] },
                    { role: 'C Inv. O', baseSalary: 225000, doh: 13, type: 'cLevel', adjustments:[-1.00,-1.00,-0.50,-0.25,0.00] },
                    { role: 'CTO', baseSalary: 250000, doh: 1, type: 'cLevel', adjustments:[-0.45,-0.35,0.00,0.00,1.00] },
                    { role: 'C Comp. O', baseSalary: 225000, doh: 1, type: 'cLevel', adjustments:[-0.75,-0.60,0.00,0.00,1.00] },
                    { role: 'VP of Engineering', baseSalary: 175000, doh: 1, type: 'director', adjustments:[-0.75,-0.65,-0.50,0.00,1.00] },
                    { role: 'Director of Engineering', baseSalary: 145000, doh: 1, type: 'director', adjustments:[-0.75,-0.65,-0.50,0.00,1.00] },
                    { role: 'VP Customer Success', baseSalary: 225000, doh: 25, type: 'director', adjustments:[-1.00,-1.00,-0.50,-0.30,0.00] },
                    { role: 'VP of Sales', baseSalary: 175000, doh: 1, type: 'director', adjustments:[-0.65,-0.60,-0.43,-0.40,-0.55], recruitingInstallments: true },
                    { role: 'Full Stack Engineer', baseSalary: 80000, doh: 1, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 1, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 1, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 13, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 13, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 25, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 25, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 25, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 37, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 37, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 37, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 37, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 49, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 49, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] }, { role: 'Full Stack Engineer', baseSalary: 80000, doh: 49, type: 'standard', adjustments:[-0.75,-0.65,-0.60,0.00,1.00] },
                    { role: 'R&D', baseSalary: 150000, doh: 1, type: 'standard', adjustments:[-0.65,-0.55,0.00,0.00,0.20] }, { role: 'R&D', baseSalary: 150000, doh: 13, type: 'standard', adjustments:[-0.65,-0.55,0.00,0.00,0.20] }, { role: 'R&D', baseSalary: 150000, doh: 13, type: 'standard', adjustments:[-0.65,-0.55,0.00,0.00,0.20] }, { role: 'R&D', baseSalary: 150000, doh: 25, type: 'standard', adjustments:[-0.65,-0.55,0.00,0.00,0.20] }, { role: 'R&D', baseSalary: 150000, doh: 37, type: 'standard', adjustments:[-0.65,-0.55,0.00,0.00,0.20] }, { role: 'R&D', baseSalary: 150000, doh: 37, type: 'standard', adjustments:[-0.65,-0.55,0.00,0.00,0.20] },
                    { role: 'Analyst', baseSalary: 40000, doh: 1, type: 'standard', adjustments:[-0.80,-0.75,0.00,0.00,1.00] }, { role: 'Analyst', baseSalary: 40000, doh: 13, type: 'standard', adjustments:[-0.80,-0.75,0.00,0.00,1.00] }, { role: 'Analyst', baseSalary: 40000, doh: 25, type: 'standard', adjustments:[-0.80,-0.75,0.00,0.00,1.00] }, { role: 'Analyst', baseSalary: 40000, doh: 25, type: 'standard', adjustments:[-0.80,-0.75,0.00,0.00,1.00] }, { role: 'Analyst', baseSalary: 40000, doh: 37, type: 'standard', adjustments:[-0.80,-0.75,0.00,0.00,1.00] }, { role: 'Analyst', baseSalary: 40000, doh: 37, type: 'standard', adjustments:[-0.80,-0.75,0.00,0.00,1.00] }, { role: 'Analyst', baseSalary: 40000, doh: 49, type: 'standard', adjustments:[-0.80,-0.75,0.00,0.00,1.00] }, { role: 'Analyst', baseSalary: 40000, doh: 49, type: 'standard', adjustments:[-0.80,-0.75,0.00,0.00,1.00] },
                    { role: 'Software Test Engineer', baseSalary: 35000, doh: 1, type: 'standard', adjustments:[-0.75,-0.75,0.00,0.00,1.00] }, { role: 'Software Test Engineer', baseSalary: 35000, doh: 13, type: 'standard', adjustments:[-0.75,-0.75,0.00,0.00,1.00] }, { role: 'Software Test Engineer', baseSalary: 35000, doh: 25, type: 'standard', adjustments:[-0.75,-0.75,0.00,0.00,1.00] }, { role: 'Software Test Engineer', baseSalary: 35000, doh: 25, type: 'standard', adjustments:[-0.75,-0.75,0.00,0.00,1.00] }, { role: 'Software Test Engineer', baseSalary: 35000, doh: 37, type: 'standard', adjustments:[-0.75,-0.75,0.00,0.00,1.00] }, { role: 'Software Test Engineer', baseSalary: 35000, doh: 37, type: 'standard', adjustments:[-0.75,-0.75,0.00,0.00,1.00] },
                    { role: 'Support', baseSalary: 25000, doh: 1, type: 'standard', adjustments:[-0.45,-0.45,0.00,0.00,1.00] }, { role: 'Support', baseSalary: 25000, doh: 1, type: 'standard', adjustments:[-0.45,-0.45,0.00,0.00,1.00] }, { role: 'Support', baseSalary: 25000, doh: 13, type: 'standard', adjustments:[-0.45,-0.45,0.00,0.00,1.00] }, { role: 'Support', baseSalary: 25000, doh: 25, type: 'standard', adjustments:[-0.45,-0.45,0.00,0.00,1.00] }, { role: 'Support', baseSalary: 25000, doh: 25, type: 'standard', adjustments:[-0.45,-0.45,0.00,0.00,1.00] }, { role: 'Support', baseSalary: 25000, doh: 37, type: 'standard', adjustments:[-0.45,-0.45,0.00,0.00,1.00] }, { role: 'Support', baseSalary: 25000, doh: 37, type: 'standard', adjustments:[-0.45,-0.45,0.00,0.00,1.00] }, { role: 'Support', baseSalary: 25000, doh: 49, type: 'standard', adjustments:[-0.45,-0.45,0.00,0.00,1.00] }, { role: 'Support', baseSalary: 25000, doh: 49, type: 'standard', adjustments:[-0.45,-0.45,0.00,0.00,1.00] }, { role: 'Support', baseSalary: 25000, doh: 49, type: 'standard', adjustments:[-0.45,-0.45,0.00,0.00,1.00] },
                    { role: 'Sales', baseSalary: 135000, doh: 13, type: 'sales', adjustments:[-1.00,-0.60,0.00,0.00,0.00] }, { role: 'Sales', baseSalary: 135000, doh: 13, type: 'sales', adjustments:[-1.00,-0.60,0.00,0.00,0.00] }, { role: 'Sales', baseSalary: 135000, doh: 13, type: 'sales', adjustments:[-1.00,-0.60,0.00,0.00,0.00] }, { role: 'Sales', baseSalary: 135000, doh: 49, type: 'sales', adjustments:[-1.00,-0.60,0.00,0.00,0.00] }, { role: 'Sales', baseSalary: 135000, doh: 49, type: 'sales', adjustments:[-1.00,-0.60,0.00,0.00,0.00] },
                ],
            };

            // Data for the product tabs in "The Solution" section
            const productData = {
                marketplace: {
                    title: "Quantix Marketplace",
                    description: "Our entry-point B2C product providing fully automated, institutional-grade trading strategies. Users can easily deploy our top-performing bots on their preferred exchanges via copy trading, enabling hands-off portfolio growth.",
                    model: "10%–30% profit‑sharing fee managed and processed by the exchange.",
                    image: "marketplace.jpg"
                },
                iq: {
                    title: "Quantix IQ",
                    description: "A freemium SaaS platform that is a 'one-touch AI strategy designer.' IQ allows users to build, backtest, and deploy custom trading bots without writing a single line of code. Subscriptions are based on the number of bots a user runs, with a one-month free trial for all users.",
                    model: "Recurring revenue through tiered monthly and annual subscriptions (Basic, Pro, Elite).",
                    image: "iq.jpg"
                },
                pro: {
                    title: "Quantix Pro",
                    description: "Our flagship B2B product. A comprehensive, no-code, web-based platform for designing, training, and running proprietary AI-powered trading strategies at scale. Aimed at hedge funds, family offices, and financial institutions.",
                    model: "High-value revenue from annual licenses, affiliate profit sharing, model design, and Non-Recurring Engineering (NRE) costs for deep systems integration.",
                    image: "quantix.jpg"
                }
            };

            // Data for the "Why Quantix" section
            const whyQuantixData = {
                ecosystem: {
                    title: "A Unified Ecosystem for All Trader Types",
                    content: "Most competitors focus on one segment—either retail subscription bots (like 3Commas, Cryptohopper) or high-end institutional tools. Quantix is different because it creates a complete ecosystem where each product feeds into the next, serving passive investors, active retail traders, and institutions within a single, synergistic platform."
                },
                ai: {
                    title: "Proprietary AI for Strategy Creation",
                    content: "Many platforms offer 'bots' that are just automated scripts. Our platform is built on a foundation of true AI and Machine Learning for *strategy creation and optimization*. This is distinct from our use of Generative AI in the user interface, which powers helpful tools like our Bot Advisor to improve user experience."
                },
                'multi-market': {
                    title: "Multi-Market Dominance from Day One",
                    content: "The platform is designed from the ground up to support both Cryptocurrency and Forex markets. This dual-market capability allows users to diversify their automated trading across different asset classes from a single, unified interface, which is a significant competitive advantage over siloed competitors."
                },
                security: {
                    title: "Transparency and Security as Core Principles",
                    content: "Trust is paramount. We build it through proven performance, showcasing bots with extensive, real-time backtest and live performance data. Crucially, Quantix is non-custodial; your capital remains secure on your own exchange account, and you always remain in control."
                },
                functionality: {
                    title: "Unique Bot Functionalities",
                    content: "Quantix bots offer a superior user experience and advanced capabilities. They are fully integrated with Telegram for on-the-go management, incorporate our proprietary AI for strategy creation, and seamlessly support both spot and futures markets for comprehensive trading."
                }
            };

            // --- DETAILED FINANCIAL CALCULATION MODELS ---
            function calculateGTMModel(inputs) {
                const { market, aumPerUser, monthlyReturn, growthModelType, customParams, linearNewCopiersPerPartner } = inputs;
                const isCrypto = market === 'crypto';
                const profitShare = 0.12; const botsPerPartner = 40;
                const partnerCount = isCrypto ? 15 : 20; const totalBotInvestment = partnerCount * botsPerPartner * 1000;
                const growthModel = customParams.growthModel;
                const marketingCosts = isCrypto ? {1:150000,2:150000,3:150000,4:150000,5:150000} : {1:0,2:150000,3:150000,4:150000,5:150000};

                let partners = []; const rolloutStartYear = isCrypto ? 1 : 2; const partnersPerQuarter = Math.ceil(partnerCount / 4);
                for (let q = 0; q < 4; q++) { const startMonth = (rolloutStartYear - 1) * 12 + (q * 3) + 1; for (let i = 0; i < partnersPerQuarter; i++) { if (partners.length < partnerCount) partners.push({ startMonth }); } }

                let monthlyResults = []; let totalCopiers = 0; const copierStartMonth = isCrypto ? 4 : 16;
                for (let m = 1; m <= 60; m++) {
                    const maturePartners = partners.filter(p => p.startMonth + 3 <= m).length;
                    const companyYear = Math.ceil(m/12);
                    const yearGrowth = growthModel[companyYear] || { growth: 0, churn: 0 };
                    if (m >= copierStartMonth) {
                        if (m === copierStartMonth) { totalCopiers = 50; } else {
                            const prevCopiers = totalCopiers;
                            const churned = prevCopiers * yearGrowth.churn;
                            let gained = 0;
                            if (growthModelType === 'linear') { gained = maturePartners * linearNewCopiersPerPartner; }
                            else { gained = prevCopiers * yearGrowth.growth; }
                            totalCopiers = prevCopiers - churned + gained;
                        }
                    }
                    const activePartners = partners.filter(p => p.startMonth <= m).length; const totalBots = activePartners * botsPerPartner;
                    const revenueCopiers = totalBots > 0 ? (totalCopiers * ((maturePartners * botsPerPartner) / totalBots)) : 0;
                    const monthlyGrossRevenue = revenueCopiers * aumPerUser * monthlyReturn * profitShare;
                    let monthlyTotalCost = (marketingCosts[companyYear] || 0) / 12; if (companyYear === rolloutStartYear) monthlyTotalCost += totalBotInvestment / 12;
                    monthlyResults.push({ month: m, revenue: monthlyGrossRevenue, cost: monthlyTotalCost });
                }
                return { monthly: monthlyResults };
            }

            function calculateIQModel(params) {
                const monthlyResults = []; let activeFreeUsers = 0, freeUsersFromLastMonth = 0;
                const paidUsers = { basic: 0, pro: 0, elite: 0 }, monthlySubscribers = { basic: 0, pro: 0, elite: 0 };
                const planDetails = { basic: { monthly: 42, annual: 360 }, pro: { monthly: 70, annual: 600 }, elite: { monthly: 210, annual: 1800 } };
                for (let m = 1; m <= 60; m++) {
                    if (m < params.startMonth) { monthlyResults.push({ month: m, revenue: 0, cost: 0 }); continue; }
                    const year = Math.ceil(m / 12); const yearKey = year <= 2 ? year : 3;
                    const monthlyPaidChurn = 1 - Math.pow(1 - params.annualPaidChurn[yearKey], 1/12);
                    for(const plan in paidUsers) paidUsers[plan] *= (1 - monthlyPaidChurn); for(const plan in monthlySubscribers) monthlySubscribers[plan] *= (1 - monthlyPaidChurn);
                    const conversions = freeUsersFromLastMonth * params.convRate[yearKey];
                    for(const plan in params.paidUserDist){ const newSubs = conversions * params.paidUserDist[plan]; paidUsers[plan] += newSubs; monthlySubscribers[plan] += newSubs * params.planUptake.monthly; }
                    const newFreeTrials = params.newFreeTrialsPerMonth[yearKey]; activeFreeUsers += newFreeTrials - freeUsersFromLastMonth; freeUsersFromLastMonth = newFreeTrials;
                    const recurringRevenue = Object.keys(planDetails).reduce((sum, plan) => sum + (monthlySubscribers[plan] * planDetails[plan].monthly), 0);
                    const newAnnualRevenue = Object.keys(planDetails).reduce((sum, plan) => sum + (conversions * params.paidUserDist[plan] * params.planUptake.annual * planDetails[plan].annual), 0);
                    monthlyResults.push({ month: m, revenue: recurringRevenue + newAnnualRevenue, cost: newFreeTrials * params.costPerFreeTrial });
                }
                return { monthly: monthlyResults };
            }

            function calculateProModel(params) {
                const { pricing, newDealsPerYear, affiliateParams, annualChurnRate, serverCosts } = params;
                let activePro = [], activeEnterprise = []; const monthlyResults = [];
                for (let m = 1; m <= 60; m++) {
                    const yearIndex = Math.floor((m - 1) / 12);
                    let licenseRevenue = 0;
                    if (m > 12 && (m-1) % 12 === 0) { activePro = activePro.filter(() => Math.random() > annualChurnRate); activeEnterprise = activeEnterprise.filter(() => Math.random() > annualChurnRate); }
                    activePro.forEach(c => { if ((m - c.startMonth) > 0 && (m - c.startMonth) % 12 === 0) licenseRevenue += pricing.pro.license; });
                    activeEnterprise.forEach(c => { if ((m - c.startMonth) > 0 && (m - c.startMonth) % 12 === 0) licenseRevenue += pricing.enterprise.license; });
                    const proDealsThisYear = newDealsPerYear.pro[yearIndex];
                    if (proDealsThisYear > 0 && activePro.filter(c=>Math.ceil(c.startMonth/12)-1===yearIndex).length < proDealsThisYear && m>0 && (12/proDealsThisYear>0) && m % Math.floor(12/proDealsThisYear) === 0) { activePro.push({startMonth:m}); licenseRevenue+=pricing.pro.nre+pricing.pro.license; }
                    const entDealsThisYear = newDealsPerYear.enterprise[yearIndex];
                    if (entDealsThisYear > 0 && activeEnterprise.filter(c=>Math.ceil(c.startMonth/12)-1===yearIndex).length < entDealsThisYear && m>0 && (12/entDealsThisYear>0) && m % Math.floor(12/entDealsThisYear) === 0) { activeEnterprise.push({startMonth:m}); licenseRevenue+=pricing.enterprise.nre+pricing.enterprise.license; }
                    const affiliateRevenue = activePro.length * affiliateParams.adoptionRate * affiliateParams.avgCopiersPerAffiliate * affiliateParams.avgAumPerCopier * affiliateParams.monthlyBotReturn * affiliateParams.quantixProfitShare;
                    const affiliateBotServerCost = (activePro.length * affiliateParams.adoptionRate * 40 / 90) * 110;
                    const monthlyServerCost = (activePro.length * serverCosts.pro) + (activeEnterprise.length * serverCosts.enterprise) + affiliateBotServerCost;
                    monthlyResults.push({ m, revenue: licenseRevenue + affiliateRevenue, cost: monthlyServerCost });
                }
                return { monthly: monthlyResults };
            }

            const calculatePeopleAndBudgetModel = (params) => {
                const monthlyData = Array.from({ length: 60 }, (_, i) => ({ month: i + 1, payroll: 0, benefitsTaxes: 0, recruitingFees: 0, salesBonuses: 0, travel: 0, it: 0, comms: 0, totalOpEx: 0, activeFTE: 0 }));
                params.employees.forEach(emp => {
                    if (emp.doh > 1) {
                        const isSalesOrCLevel = emp.type === 'cLevel' || emp.type === 'sales' || emp.role === 'VP of Sales';
                        if (isSalesOrCLevel) {
                            let feePercentage = emp.type === 'cLevel' ? params.recruitingFeeTiers.cLevel : (emp.type === 'director' ? params.recruitingFeeTiers.director : params.recruitingFeeTiers.standard);
                            const recruitingFee = emp.baseSalary * feePercentage;
                            if (emp.recruitingInstallments) {
                                if (emp.doh > 2) monthlyData[emp.doh - 3].recruitingFees += recruitingFee * 0.30;
                                if (emp.doh > 1) monthlyData[emp.doh - 2].recruitingFees += recruitingFee * 0.30;
                                monthlyData[emp.doh - 1].recruitingFees += recruitingFee * 0.40;
                            } else {
                                monthlyData[emp.doh - 1].recruitingFees += recruitingFee;
                            }
                        }
                    }
                    for (let m = emp.doh - 1; m < 60; m++) {
                        const yearIndexForLoop = Math.floor(m / 12);
                        const loopAdjustedSalary = emp.baseSalary * (1 + emp.adjustments[yearIndexForLoop]);
                        monthlyData[m].activeFTE++;
                        monthlyData[m].payroll += loopAdjustedSalary / 12;
                        if (emp.role === 'Sales' && m < emp.doh - 1 + 6) monthlyData[m].salesBonuses += params.guaranteedSalesBonus;
                        if (emp.type === 'cLevel') monthlyData[m].travel += params.travelBudget.cLevel / 12;
                        else if (emp.type === 'director') monthlyData[m].travel += params.travelBudget.director / 12;
                        else monthlyData[m].travel += params.travelBudget.standard / 12;
                    }
                });
                monthlyData.forEach(month => {
                    month.benefitsTaxes = month.payroll * params.benefitsAndTaxRate;
                    month.it = month.activeFTE * (params.itPerFTE / 12);
                    month.comms = month.activeFTE * (params.commsPerFTE / 12);
                    month.totalOpEx = month.payroll + month.benefitsTaxes + month.recruitingFees + month.salesBonuses + month.travel + month.it + month.comms;
                });
                const yearlyTotals = { totalOpEx: [], fte: [] };
                for (let y = 0; y < 5; y++) {
                    const yearData = monthlyData.slice(y * 12, (y + 1) * 12);
                    yearlyTotals.totalOpEx.push(yearData.reduce((sum, m) => sum + m.totalOpEx, 0));
                    yearlyTotals.fte.push(yearData[11].activeFTE);
                }
                return { monthlyData, yearlyTotals };
            };

            const runAllCalculations = () => {
                const gtmCryptoData = calculateGTMModel(GTM_DEFAULTS_CRYPTO);
                const gtmForexData = calculateGTMModel(GTM_DEFAULTS_FOREX);
                const iqData = calculateIQModel(IQ_DEFAULTS);
                const proData = calculateProModel(PRO_DEFAULTS);
                const peopleData = calculatePeopleAndBudgetModel(PEOPLE_DEFAULTS);

                const yearlySummary = {
                    gtmRevenue: [], gtmCosts: [], iqRevenue: [], iqCosts: [], proRevenue: [], proCosts: [],
                    totalRevenue: [], totalDirectCosts: [], grossProfit: [], opex: [], netIncome: []
                };

                const monthlyTotalRevenue = Array.from({length: 60}, (_, i) => {
                    return gtmCryptoData.monthly[i].revenue + gtmForexData.monthly[i].revenue + iqData.monthly[i].revenue + proData.monthly[i].revenue;
                });

                for (let y = 0; y < 5; y++) {
                    const yearStart = y * 12;
                    const yearEnd = yearStart + 12;

                    const gtmRev = gtmCryptoData.monthly.slice(yearStart, yearEnd).reduce((s, m) => s + m.revenue, 0) + gtmForexData.monthly.slice(yearStart, yearEnd).reduce((s, m) => s + m.revenue, 0);
                    const gtmCost = gtmCryptoData.monthly.slice(yearStart, yearEnd).reduce((s, m) => s + m.cost, 0) + gtmForexData.monthly.slice(yearStart, yearEnd).reduce((s, m) => s + m.cost, 0);
                    const iqRev = iqData.monthly.slice(yearStart, yearEnd).reduce((s, m) => s + m.revenue, 0);
                    const iqCost = iqData.monthly.slice(yearStart, yearEnd).reduce((s, m) => s + m.cost, 0);
                    const proRev = proData.monthly.slice(yearStart, yearEnd).reduce((s, m) => s + m.revenue, 0);
                    const proCost = proData.monthly.slice(yearStart, yearEnd).reduce((s, m) => s + m.cost, 0);

                    yearlySummary.gtmRevenue.push(gtmRev);
                    yearlySummary.gtmCosts.push(gtmCost);
                    yearlySummary.iqRevenue.push(iqRev);
                    yearlySummary.iqCosts.push(iqCost);
                    yearlySummary.proRevenue.push(proRev);
                    yearlySummary.proCosts.push(proCost);

                    const totalRev = gtmRev + iqRev + proRev;
                    const totalCost = gtmCost + iqCost + proCost;
                    const gp = totalRev - totalCost;
                    const opEx = peopleData.yearlyTotals.totalOpEx[y];

                    yearlySummary.totalRevenue.push(totalRev);
                    yearlySummary.totalDirectCosts.push(totalCost);
                    yearlySummary.grossProfit.push(gp);
                    yearlySummary.opex.push(opEx);
                    yearlySummary.netIncome.push(gp - opEx);
                }

                const monthlyNetIncome = Array.from({length: 60}, (_, i) => {
                    const monthlyTotalDirectCost = gtmCryptoData.monthly[i].cost + gtmForexData.monthly[i].cost + iqData.monthly[i].cost + proData.monthly[i].cost;
                    return monthlyTotalRevenue[i] - monthlyTotalDirectCost - peopleData.monthlyData[i].totalOpEx;
                });

                const quarterlyNetIncome = [];
                for (let i = 0; i < 20; i++) {
                    const quarterSum = monthlyNetIncome.slice(i * 3, (i + 1) * 3).reduce((a, b) => a + b, 0);
                    quarterlyNetIncome.push(quarterSum);
                }

                const yearlyRunRate = [];
                for (let y = 0; y < 5; y++) {
                    const lastQuarterStartMonthIndex = y * 12 + 9;
                    const lastQuarterRevenue = monthlyTotalRevenue.slice(lastQuarterStartMonthIndex, lastQuarterStartMonthIndex + 3).reduce((a, b) => a + b, 0);
                    yearlyRunRate.push(lastQuarterRevenue * 4);
                }

                return {
                    years: Array.from({ length: 5 }, (_, i) => START_YEAR + i),
                    yearlySummary,
                    peopleData,
                    quarterlyNetIncome,
                    yearlyRunRate,
                    iqDataYearly: { mrr: [4200, 63000, 210000, 504000, 966000], paidUsers: [100, 1500, 5000, 12000, 23000] },
                    gtmDataYearly: { aum: [1000000, 15000000, 45000000, 90000000, 150000000], users: [300, 1500, 4500, 9000, 15000] },
                    proDataYearly: { totalPro: [2, 6, 14, 24, 36], totalEnterprise: [1, 3, 6, 10, 15] },
                };
            };

            const allData = runAllCalculations();

            // --- RENDER FUNCTIONS ---
            const renderChart = (chartId, chartConfig) => {
                const canvas = document.getElementById(chartId);
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                if (!ctx) return;

                if (charts[chartId]) {
                    charts[chartId].destroy();
                }
                charts[chartId] = new Chart(ctx, chartConfig);
            };

            const renderFinancialSummaryTable = () => {
                const table = document.getElementById('financial-summary-table');
                if (!table) return;
                const summary = allData.yearlySummary;
                let html = `<thead><tr><th class="p-3 font-semibold">Income Statement Summary</th>${allData.years.map(y => `<th class="p-3 font-semibold text-right">Y${y - START_YEAR + 1}</th>`).join('')}</tr></thead><tbody>`;

                const formatRow = (title, data, isSubItem = false, isCost = false) => {
                    let cells = data.map((d, i) => `<td class="p-3 text-right ${d < 0 ? 'loss' : ''}" data-label="Y${i+1}">${isCost ? '('+formatCurrency(Math.abs(d))+')' : formatCurrency(d)}</td>`).join('');
                    return `<tr><td class="p-3 font-medium ${isSubItem ? 'sub-item' : ''}" data-label="Metric">${title}</td>${cells}</tr>`;
                };

                html += `<tr class="section-header"><td class="p-3" colspan="6" data-label="Section">Revenue</td></tr>`;
                html += formatRow('Marketplace', summary.gtmRevenue, true);
                html += formatRow('Quantix IQ', summary.iqRevenue, true);
                html += formatRow('Quantix Pro', summary.proRevenue, true);
                html += `<tr class="total-row">${formatRow('Total Revenue', summary.totalRevenue)}</tr>`;

                html += `<tr class="section-header"><td class="p-3" colspan="6" data-label="Section">Direct Costs</td></tr>`;
                html += formatRow('Marketplace', summary.gtmCosts, true, true);
                html += formatRow('Quantix IQ', summary.iqCosts, true, true);
                html += formatRow('Quantix Pro', summary.proCosts, true, true);
                html += `<tr class="total-row">${formatRow('Total Direct Costs', summary.totalDirectCosts, false, true)}</tr>`;

                html += `<tr><td class="p-3 font-bold" data-label="Metric">Gross Profit</td>${summary.grossProfit.map((d,i) => `<td class="p-3 text-right font-bold ${d < 0 ? 'loss' : 'profit'}" data-label="Y${i+1}">${formatCurrency(d)}</td>`).join('')}</tr>`;
                html += `<tr class="section-header"><td class="p-3" colspan="6" data-label="Section">Operating Expenses</td></tr>`;
                html += formatRow('Total Operating Expenses', summary.opex, true, true);
                html += `<tr class="total-row-final"><td class="p-3" data-label="Metric">Net Income (Loss)</td>${summary.netIncome.map((d,i) => `<td class="p-3 text-right ${d < 0 ? 'loss' : 'profit'}" data-label="Y${i+1}">${formatCurrency(d)}</td>`).join('')}</tr>`;

                table.innerHTML = html + '</tbody>';
            };

            const renderKpiTable = () => {
                const table = document.getElementById('kpi-summary-table');
                if (!table) return;
                let html = `<thead class="bg-stone-50"><tr>
                    <th class="p-3 font-semibold">Metric (End of Year)</th>
                    ${allData.years.map(y => `<th class="p-3 font-semibold text-right">Y${y - START_YEAR + 1}</th>`).join('')}
                </tr></thead><tbody class="divide-y divide-stone-200">`;

                const formatRow = (title, data, formatter = formatCurrency) => `<tr><td class="p-3" data-label="Metric">${title}</td>${data.map((d,i) => `<td class="p-3 text-right" data-label="Y${i+1}">${formatter(d)}</td>`).join('')}</tr>`;

                html += `<tr class="bg-stone-100 font-semibold"><td class="p-3" colspan="6" data-label="Section">Revenue Drivers</td></tr>`;
                html += formatRow('IQ Monthly Recurring Revenue (MRR)', allData.iqDataYearly.mrr);
                html += formatRow('Revenue AUM', allData.gtmDataYearly.aum);
                html += formatRow('Paid MAU (IQ)', allData.iqDataYearly.paidUsers, formatNumber);
                html += `<tr class="bg-stone-100 font-semibold"><td class="p-3" colspan="6" data-label="Section">Supporting Metrics</td></tr>`;
                html += formatRow('# Marketplace Copiers', allData.gtmDataYearly.users, formatNumber);
                html += formatRow('# Pro Contracts', allData.proDataYearly.totalPro.map((p,i) => p + allData.proDataYearly.totalEnterprise[i]), formatNumber);
                html += formatRow('# FTE', allData.peopleData.yearlyTotals.fte, formatNumber);

                table.innerHTML = html + '</tbody>';
            };

            const renderOpexSummaryTable = () => {
                const table = document.getElementById('opex-summary-table');
                if (!table) return;
                const peopleData = allData.peopleData;
                const opexData = {
                    salaries: [], benefits: [], ga: []
                };

                for (let y = 0; y < 5; y++) {
                    const yearData = peopleData.monthlyData.slice(y * 12, (y + 1) * 12);
                    opexData.salaries.push(yearData.reduce((s, m) => s + m.payroll, 0));
                    opexData.benefits.push(yearData.reduce((s, m) => s + m.benefitsTaxes, 0));
                    const combinedGA = yearData.reduce((s, m) => s + m.travel + m.it + m.comms + m.recruitingFees + m.salesBonuses, 0);
                    opexData.ga.push(combinedGA);
                }

                let html = `<thead class="bg-stone-50"><tr>
                    <th class="p-3 font-semibold">Cost Category</th>
                    ${allData.years.map(y => `<th class="p-3 font-semibold text-right">Y${y - START_YEAR + 1}</th>`).join('')}
                </tr></thead><tbody class="divide-y divide-stone-200">`;

                const formatRow = (title, data) => `<tr><td class="p-3" data-label="Cost Category">${title}</td>${data.map((d,i) => `<td class="p-3 text-right" data-label="Y${i+1}">${formatCurrency(d)}</td>`).join('')}</tr>`;

                html += formatRow('Total Salaries', opexData.salaries);
                html += formatRow('Benefits & Taxes', opexData.benefits);
                html += formatRow('General & Admin', opexData.ga);
                html += `<tr class="font-bold bg-stone-50"><td class="p-3" data-label="Cost Category">Total Operating Expenses</td>${allData.yearlySummary.opex.map((d,i) => `<td class="p-3 text-right" data-label="Y${i+1}">${formatCurrency(d)}</td>`).join('')}</tr>`;

                table.innerHTML = html + '</tbody>';
            };

            const renderCharts = () => {
                const chartOptions = {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { color: '#78716C' } } },
                    scales: {
                        x: { ticks: { color: '#78716C' }, grid: { display: false } },
                        y: { ticks: { color: '#78716C', callback: v => formatCurrency(v, true) }, grid: { color: '#E7E5E4' } }
                    }
                };

                renderChart('revenueChart', {
                    type: 'bar',
                    data: {
                        labels: allData.years.map(y => `Y${y - START_YEAR + 1}`),
                        datasets: [
                            { label: 'Marketplace', data: allData.yearlySummary.gtmRevenue, backgroundColor: '#14B8A6' },
                            { label: 'IQ', data: allData.yearlySummary.iqRevenue, backgroundColor: '#F59E0B' },
                            { label: 'Pro', data: allData.yearlySummary.proRevenue, backgroundColor: '#6366F1' }
                        ]
                    },
                    options: { ...chartOptions, scales: { ...chartOptions.scales, x: { ...chartOptions.scales.x, stacked: true }, y: { ...chartOptions.scales.y, stacked: true } } }
                });

                const quarterlyLabels=Array.from({length:20},(_,i)=>`Y${Math.floor(i/4)+1}-Q${i%4+1}`);
                const milestoneAnnotations={
                    'crypto_launch':{type:'line',xMin:1,xMax:1,borderColor:'rgba(13, 148, 136,0.5)',borderWidth:2,label:{content:'Crypto Launch',display:true,position:'start',backgroundColor:'rgba(13, 148, 136,0.7)',font:{weight:'bold'}}},
                    'iq_launch':{type:'line',xMin:2,xMax:2,borderColor:'rgba(245, 158, 11,0.5)',borderWidth:2,label:{content:'IQ Launch',display:true,position:'end',backgroundColor:'rgba(245, 158, 11,0.7)',font:{weight:'bold'}}},
                    'forex_launch':{type:'line',xMin:4,xMax:4,borderColor:'rgba(13, 148, 136,0.5)',borderWidth:2,label:{content:'Forex Launch',display:true,position:'start',backgroundColor:'rgba(13, 148, 136,0.7)',font:{weight:'bold'}}},
                };

                renderChart('cashFlowChart', {
                    type:'line',
                    data: {
                        labels: quarterlyLabels,
                        datasets:[{
                            label:'Quarterly Net Income',
                            data: allData.quarterlyNetIncome,
                            borderColor: '#0D9488',
                            backgroundColor: 'rgba(13, 148, 136, 0.1)',
                            fill: true,
                            tension: 0.1
                        }]
                    },
                    options:{
                        responsive:true,
                        maintainAspectRatio:false,
                        plugins:{
                            title:{display:true,text:'Quarterly Cash Flow & Milestones',color:'#1C1917',font:{size:18, weight:'bold'}},
                            legend:{display:false},
                            annotation:{annotations: milestoneAnnotations}
                        },
                        scales:{
                            y:{ticks:{color:'#78716C',callback:v=>formatCurrency(v,true)},grid:{color:'#E7E5E4'}},
                            x:{ticks:{color:'#78716C'},grid:{color:'#E7E5E4'}}
                        }
                    }
                });

                renderChart('algoVolumeChart', {
                    type: 'bar',
                    data: {
                        labels: ['Foreign Exchange', 'Cryptocurrency'],
                        datasets: [{
                            label: 'Estimated Algorithmic Volume (in Billions USD)',
                            data: [6000, 41],
                            backgroundColor: ['#0D9488', '#F59E0B'],
                            borderColor: ['#0F766E', '#D97706'],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            title: {
                                display: true,
                                text: 'Algorithmic Volume (Logarithmic Scale)',
                                color: '#1C1917'
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.x !== null) {
                                            label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', notation: 'compact', compactDisplay: 'short' }).format(context.parsed.x * 1000000000);
                                        }
                                        return label;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                type: 'logarithmic',
                                ticks: {
                                    color: '#78716C',
                                    callback: function(value, index, values) {
                                        if (value === 10000 || value === 1000 || value === 100 || value === 10 || value === 1) {
                                            return formatCurrency(value * 1000000000, true);
                                        }
                                    }
                                },
                                grid: {
                                    color: '#E7E5E4'
                                }
                            },
                            y: {
                                ticks: {
                                    color: '#78716C'
                                },
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });

                renderChart('runRateChart', {
                    type: 'bar',
                    data: {
                        labels: allData.years.map(y => `Y${y - START_YEAR + 1}`),
                        datasets: [{
                            label: 'Annual Run Rate',
                            data: allData.yearlyRunRate,
                            backgroundColor: '#8B5CF6' // Purple
                        }]
                    },
                    options: {
                        ...chartOptions,
                        plugins: {
                            ...chartOptions.plugins,
                             legend: {
                                display: false
                            },
                            title: {
                                display: true,
                                text: 'Annual Revenue Run Rate (EOY)',
                                color: '#1C1917',
                                font: { size: 18, weight: 'bold' }
                            }
                        }
                    }
                });
            };

            const renderUseOfFundsChart = () => {
                renderChart('useOfFundsChart', {
                    type: 'doughnut',
                    data: {
                        labels: [
                            'Team Expansion & Salaries',
                            'Product Development & R&D',
                            'Sales & Marketing',
                            'Marketplace Bot Capitalization',
                            'Operational & G&A'
                        ],
                        datasets: [{
                            label: 'Use of Funds',
                            data: [33, 20, 15, 28, 4],
                            backgroundColor: [
                                '#312e81', // Indigo-900
                                '#4338ca', // Indigo-700
                                '#6366f1', // Indigo-500
                                '#818cf8', // Indigo-400
                                '#a5b4fc'  // Indigo-300
                            ],
                            borderColor: '#FFFFFF',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed !== null) {
                                            label += context.parsed + '%';
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            };

            // --- EVENT LISTENERS & INITIALIZATION ---

            const tabButtons = document.querySelectorAll('#solution .tab-btn');
            const tabContentContainer = document.getElementById('tab-content');

            const renderTabContent = (tabId) => {
                const content = productData[tabId];
                if (!content || !tabContentContainer) return;
                tabContentContainer.innerHTML = `
                    <div id="tab-${tabId}" class="grid grid-cols-1 md:grid-cols-5 gap-8 items-center">
                        <div class="md:col-span-3">
                            <h3 class="text-2xl font-bold text-teal-600 mb-2">${content.title}</h3>
                            <p class="font-semibold mb-4">For the ${tabId === 'marketplace' ? 'Passive Trader' : tabId === 'iq' ? 'Active Retail Trader' : 'Institutional Client'}</p>
                            <p class="text-stone-600 mb-4">${content.description}</p>
                            <div class="bg-stone-100 rounded-lg p-4">
                                <h4 class="font-bold">Business Model</h4>
                                <p class="text-stone-600 text-sm">${content.model}</p>
                            </div>
                        </div>
                        <div class="md:col-span-2 bg-stone-50 rounded-lg p-4 flex items-center justify-center h-[34rem]">
                             <img src="${content.image}" alt="${content.title}" class="rounded-lg shadow-lg max-w-full h-auto object-contain" style="max-height: 524px;" onerror="this.onerror=null;this.src='https://placehold.co/426x524/E7E5E4/78716C?text=Image+Not+Found';">
                        </div>
                    </div>
                `;
            };

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    tabButtons.forEach(btn => {
                        btn.classList.remove('active');
                        btn.classList.add('text-stone-600', 'border-transparent');
                    });
                    button.classList.add('active');
                    button.classList.remove('text-stone-600', 'border-transparent');
                    renderTabContent(button.dataset.tab);
                });
            });

            const competitorTabs = document.querySelectorAll('#competition .tab-btn');
            const cryptoCompTable = document.getElementById('crypto-comp-table');
            const forexCompTable = document.getElementById('forex-comp-table');

            competitorTabs.forEach(button => {
                button.addEventListener('click', () => {
                    competitorTabs.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    if(button.dataset.tab === 'crypto-comp') {
                        cryptoCompTable.classList.remove('hidden');
                        forexCompTable.classList.add('hidden');
                    } else {
                        cryptoCompTable.classList.add('hidden');
                        forexCompTable.classList.remove('hidden');
                    }
                });
            });

            const sections = document.querySelectorAll('main section');
            const navLinks = document.querySelectorAll('#main-nav a');
            const mainContent = document.getElementById('main-content');
            const mainNav = document.getElementById('main-nav');
            let navObserver;

            const whyQuantixTabsContainer = document.getElementById('why-quantix-tabs');
            const whyQuantixContentContainer = document.getElementById('why-quantix-content');

            const renderWhyQuantixContent = (tabId) => {
                const item = whyQuantixData[tabId];
                if (!item || !whyQuantixContentContainer) return;
                whyQuantixContentContainer.innerHTML = `
                    <div>
                        <h3 class="font-semibold text-lg mb-2 text-teal-600">${item.title}</h3>
                        <p class="text-sm text-stone-600">${item.content}</p>
                    </div>
                `;
            };

            if (whyQuantixTabsContainer) {
                whyQuantixTabsContainer.addEventListener('click', (e) => {
                    if (e.target.tagName === 'BUTTON') {
                        const tabId = e.target.dataset.tab;
                        whyQuantixTabsContainer.querySelectorAll('.why-quantix-tab').forEach(tab => tab.classList.remove('active'));
                        e.target.classList.add('active');
                        renderWhyQuantixContent(tabId);
                    }
                });
                renderWhyQuantixContent('ecosystem');
            }

            const y5RevenueEl = document.getElementById('kpi-y5-revenue');
            if (y5RevenueEl) {
                const finalRevenue = allData.yearlySummary.totalRevenue[4];
                y5RevenueEl.textContent = formatCurrency(finalRevenue, true);
            }

            // --- Functionalities Section Logic ---
            const functionalitiesData = [
                { title: "AI-Powered Strategy Creation", image: "ai_strategy.jpg", description: "Seamlessly incorporate sophisticated AI models into your custom trading strategies, without writing any code." },
                { title: "Comprehensive Strategy Designer", image: "strategy_designer.jpg", description: "Includes advanced stop/take‑profit, advanced DCA, and a portfolio bot designer." },
                { title: "Quantix Bot Advisor (UI GenAI)", image: "bot_advisor.jpg", description: "Use our generative AI-powered chat interface to review, compare, and find suitable strategies based on your preferences." },
                { title: "Comprehensive Historical Data", image: "historic_data.png", description: "Access extensive historical market data for robust backtesting and strategy validation." },
                { title: "Full Telegram Bot Integration", image: "telegram.jpg", description: "Manage trades, receive alerts, and control strategies directly through Telegram." },
                { title: "Comprehensive Supported Indicators", image: "indicator.jpg", description: "Utilize a wide array of technical indicators, including oscillators, moving averages, candlestick patterns, and more." }
            ];

            const renderFunctionalities = (activeIndex = 4) => { // Default to Telegram Integration
                const mainImage = document.getElementById('main-functionality-image');
                const mainTitle = document.getElementById('main-functionality-title');
                const mainDescription = document.getElementById('main-functionality-description');
                const thumbnailsContainer = document.getElementById('functionality-thumbnails');

                if (!mainImage || !mainTitle || !thumbnailsContainer || !mainDescription) return;

                // Set main display
                mainImage.src = functionalitiesData[activeIndex].image;
                mainImage.alt = functionalitiesData[activeIndex].title;
                mainTitle.textContent = functionalitiesData[activeIndex].title;
                mainDescription.textContent = functionalitiesData[activeIndex].description;

                // Render thumbnails
                thumbnailsContainer.innerHTML = functionalitiesData.map((func, index) => `
                    <div class="thumbnail-item p-2 rounded-lg cursor-pointer transition ${index === activeIndex ? 'active bg-stone-200' : 'bg-white shadow-md'}" data-index="${index}">
                        <img src="${func.image}" alt="${func.title}" class="w-full h-32 object-contain rounded-md" onerror="this.onerror=null;this.src='https://placehold.co/200x150/FAFAF9/78716C?text=Image';">
                    </div>
                `).join('');
            };

            const functionalitiesContainer = document.getElementById('functionalities-container');
            if (functionalitiesContainer) {
                const thumbnails = functionalitiesContainer.querySelector('#functionality-thumbnails');
                thumbnails.addEventListener('click', (e) => {
                    const item = e.target.closest('.thumbnail-item');
                    if (item) {
                        const index = parseInt(item.dataset.index);
                        renderFunctionalities(index);
                    }
                });
            }

            // --- Summary View & Settings Logic ---
            const summaryModal = document.getElementById('summary-modal');
            const summaryOptionsContainer = document.getElementById('summary-options');
            const fullViewBtn = document.getElementById('full-view-btn');
            const closeModalBtn = document.getElementById('close-summary-modal');
            const cancelBtn = document.getElementById('cancel-summary');
            const applyBtn = document.getElementById('apply-summary');
            const allToggleableElements = document.querySelectorAll('.summary-toggleable');
            const SUMMARY_STORAGE_KEY = 'quantixSummaryViewSelection';

            const settingsModal = document.getElementById('settings-modal');
            const settingsBtn = document.getElementById('settings-btn');
            const floatingControlsContainer = document.getElementById('floating-controls-container');
            const closeSettingsModalBtn = document.getElementById('close-settings-modal');
            const cancelSettingsBtn = document.getElementById('cancel-settings');
            const saveSettingsBtn = document.getElementById('save-settings');
            const configureSummaryBtn = document.getElementById('configure-summary-btn');
            const SETTINGS_STORAGE_KEY = 'quantixGlobalSettings';

            const populateSettingsModal = () => {
                let html = '<div class="space-y-4">';
                allToggleableElements.forEach(el => {
                    if (el.tagName === 'SECTION') {
                        html += `<div class="font-bold text-lg pt-4">${el.dataset.title}</div>`;
                    }
                    const isChecked = !el.classList.contains('hidden-by-summary');
                    html += `
                        <label class="flex items-center space-x-3 cursor-pointer ${el.tagName !== 'SECTION' ? 'pl-6' : ''}">
                            <input type="checkbox" data-target-id="${el.dataset.id}" class="form-checkbox h-5 w-5 text-teal-600 rounded" ${isChecked ? 'checked' : ''}>
                            <span class="text-stone-700">${el.dataset.title}</span>
                        </label>
                    `;
                });
                html += '</div>';
                summaryOptionsContainer.innerHTML = html;
            };

            const applySummaryView = (selection) => {
                allToggleableElements.forEach(el => {
                    const isVisible = selection.includes(el.dataset.id);
                    el.classList.toggle('hidden-by-summary', !isVisible);
                });

                document.querySelectorAll('#main-nav a, #top-main-nav a').forEach(link => {
                    const sectionId = link.getAttribute('href').substring(1);
                    const section = document.getElementById(sectionId);
                    if (section) { // Check if section exists
                         const isVisible = selection.includes(sectionId);
                         link.classList.toggle('hidden-by-summary', !isVisible);
                    }
                });

                summaryModal.classList.add('hidden');
            };

            const showFullView = () => {
                allToggleableElements.forEach(el => {
                    el.classList.remove('hidden-by-summary', 'hidden-by-focus');
                });
                 document.querySelectorAll('#main-nav a, #top-main-nav a').forEach(link => {
                    link.classList.remove('hidden-by-summary');
                });
                localStorage.removeItem(SUMMARY_STORAGE_KEY);
                mainContent.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const saveSummarySettings = () => {
                const selectedIds = [];
                summaryOptionsContainer.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
                    selectedIds.push(checkbox.dataset.targetId);
                });
                localStorage.setItem(SUMMARY_STORAGE_KEY, JSON.stringify(selectedIds));
                applySummaryView(selectedIds);
            };

            const loadSummarySettings = () => {
                const savedSelection = localStorage.getItem(SUMMARY_STORAGE_KEY);
                if (savedSelection) {
                    applySummaryView(JSON.parse(savedSelection));
                }
            };

            const applyGlobalSettings = (settings) => {
                // Navigation Mode
                document.body.dataset.navMode = settings.navigationMode;
                if (settings.navigationMode === 'scrolling') {
                    mainContent.classList.remove('overflow-y-hidden');
                    sections.forEach(s => s.classList.remove('hidden-by-focus'));
                    if (navObserver) navObserver.disconnect();
                    setupScrollObserver();
                } else { // 'single-section' mode
                    mainContent.classList.add('overflow-y-hidden');
                    if (navObserver) navObserver.disconnect();
                    const firstVisibleSection = document.querySelector('main section:not(.hidden-by-summary)') || sections[0];
                    if (firstVisibleSection) {
                        const targetId = firstVisibleSection.id;
                        sections.forEach(section => {
                            section.classList.toggle('hidden-by-focus', section.id !== targetId);
                        });
                        document.querySelectorAll('#main-nav a, #top-main-nav a').forEach(navLink => {
                           navLink.classList.toggle('active', navLink.getAttribute('href') === `#${targetId}`);
                        });
                        mainContent.scrollTop = 0;
                    }
                }

                // Menu Position
                document.getElementById('app-container').classList.toggle('top-menu-layout', settings.menuPosition === 'top');

                // External Links
                const botsLink = document.getElementById('bots-link');
                const financingLink = document.getElementById('financing-link');
                if (botsLink) botsLink.style.display = settings.showBotsLink ? '' : 'none';
                if (financingLink) financingLink.style.display = settings.showFinancingLink ? '' : 'none';

                // Floating Controls
                if (floatingControlsContainer) {
                    floatingControlsContainer.classList.toggle('hidden', !settings.showFloatingControls);
                }
            };

            const saveGlobalSettings = () => {
                const settings = {
                    navigationMode: document.querySelector('input[name="navMode"]:checked').value,
                    menuPosition: document.querySelector('input[name="menuPosition"]:checked').value,
                    showBotsLink: document.getElementById('setting-show-bots-link').checked,
                    showFinancingLink: document.getElementById('setting-show-financing-link').checked,
                    showFloatingControls: document.getElementById('setting-show-floating-controls').checked,
                };
                localStorage.setItem(SETTINGS_STORAGE_KEY, JSON.stringify(settings));
                applyGlobalSettings(settings);
                settingsModal.classList.add('hidden');
            };

            const loadGlobalSettings = () => {
                const saved = localStorage.getItem(SETTINGS_STORAGE_KEY);
                const defaultSettings = {
                    navigationMode: 'scrolling',
                    menuPosition: 'side',
                    showBotsLink: true,
                    showFinancingLink: true,
                    showFloatingControls: true,
                };
                const settings = saved ? { ...defaultSettings, ...JSON.parse(saved) } : defaultSettings;

                // Update modal inputs before applying
                document.querySelector(`input[name="navMode"][value="${settings.navigationMode}"]`).checked = true;
                document.querySelector(`input[name="menuPosition"][value="${settings.menuPosition}"]`).checked = true;
                document.getElementById('setting-show-bots-link').checked = settings.showBotsLink;
                document.getElementById('setting-show-financing-link').checked = settings.showFinancingLink;
                document.getElementById('setting-show-floating-controls').checked = settings.showFloatingControls;

                applyGlobalSettings(settings);
            };

            const setupScrollObserver = () => {
                const observerOptions = { root: mainContent, rootMargin: '-50% 0px -50% 0px', threshold: 0 };
                navObserver = new IntersectionObserver((entries) => {
                    if (document.body.dataset.navMode !== 'scrolling') return;
                    entries.forEach(entry => {
                        const id = entry.target.getAttribute('id');
                        const navLink = document.querySelector(`#main-nav a[href="#${id}"]`);
                        const topNavLink = document.querySelector(`#top-main-nav a[href="#${id}"]`);
                        if (entry.isIntersecting) {
                            navLinks.forEach(link => link.classList.remove('active'));
                            document.querySelectorAll('#top-main-nav a').forEach(link => link.classList.remove('active'));
                            if(navLink) navLink.classList.add('active');
                            if(topNavLink) topNavLink.classList.add('active');
                        }
                    });
                }, observerOptions);
                sections.forEach(section => navObserver.observe(section));
            };

            const handleNavClick = (e) => {
                const link = e.target.closest('a');
                if (!link) return;
                e.preventDefault();

                const targetId = link.getAttribute('href').substring(1);

                if (document.body.dataset.navMode === 'single-section') {
                    sections.forEach(section => {
                        section.classList.toggle('hidden-by-focus', section.id !== targetId);
                    });
                    mainContent.scrollTop = 0;
                } else {
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                }

                document.querySelectorAll('#main-nav a, #top-main-nav a').forEach(navLink => {
                    navLink.classList.toggle('active', navLink.getAttribute('href') === `#${targetId}`);
                });
            };

            mainNav.addEventListener('click', handleNavClick);
            document.getElementById('top-main-nav').addEventListener('click', handleNavClick);

            if (fullViewBtn) {
                fullViewBtn.addEventListener('click', showFullView);
            }
            if(closeModalBtn) closeModalBtn.addEventListener('click', () => summaryModal.classList.add('hidden'));
            if(cancelBtn) cancelBtn.addEventListener('click', () => summaryModal.classList.add('hidden'));
            if(applyBtn) applyBtn.addEventListener('click', saveSummarySettings);

            if(settingsBtn) {
                settingsBtn.addEventListener('click', () => {
                    settingsModal.classList.remove('hidden');
                    settingsModal.classList.add('flex');
                });
            }

            if(closeSettingsModalBtn) closeSettingsModalBtn.addEventListener('click', () => settingsModal.classList.add('hidden'));
            if(cancelSettingsBtn) cancelSettingsBtn.addEventListener('click', () => settingsModal.classList.add('hidden'));
            if(saveSettingsBtn) saveSettingsBtn.addEventListener('click', saveGlobalSettings);

            if(configureSummaryBtn) {
                configureSummaryBtn.addEventListener('click', () => {
                    settingsModal.classList.add('hidden');
                    populateSettingsModal();
                    summaryModal.classList.remove('hidden');
                    summaryModal.classList.add('flex');
                });
            }

            // Clone nav for top menu
            const topNavContainer = document.getElementById('top-main-nav');
            navLinks.forEach(link => {
                const clone = link.cloneNode(true);
                clone.classList.remove('p-3');
                clone.classList.add('p-2', 'text-xs');
                topNavContainer.appendChild(clone);
            });

            // REMOVED: The logic to clone external links to the top menu is no longer needed.

            // Initial Load
            loadGlobalSettings();
            loadSummarySettings();
            renderFunctionalities();
            renderTabContent('marketplace');
            renderFinancialSummaryTable();
            renderKpiTable();
            renderOpexSummaryTable();
            renderCharts();
            renderUseOfFundsChart();

            // Roadmap Style Switcher
            const styleSelector = document.getElementById('roadmap-style-selector');
            const verticalView = document.getElementById('roadmap-vertical-view');
            const ganttView = document.getElementById('roadmap-gantt-view');
            if(styleSelector) {
                styleSelector.addEventListener('click', (e) => {
                    if(e.target.tagName === 'BUTTON') {
                        const style = e.target.dataset.style;
                        styleSelector.querySelectorAll('.roadmap-style-btn').forEach(btn => btn.classList.remove('active'));
                        e.target.classList.add('active');

                        if(style === 'vertical') {
                            verticalView.classList.remove('hidden');
                            ganttView.classList.add('hidden');
                        } else {
                            verticalView.classList.add('hidden');
                            ganttView.classList.remove('hidden');
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>
